/*!@preserve@license
 * 模块名称：j-toml
 * 模块功能：龙腾道为汤小明语写的实现。从属于“简计划”。
   　　　　　An implementation of TOML written by LongTengDao. Belong to "Plan J".
 * 模块版本：1.20.0
 * 许可条款：LGPL-3.0
 * 所属作者：龙腾道 <LongTengDao@LongTengDao.com> (www.LongTengDao.com)
 * 问题反馈：https://GitHub.com/LongTengDao/j-toml/issues
 * 项目主页：https://GitHub.com/LongTengDao/j-toml/
 */
(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).TOML=t()})(this,(function(){"use strict";const e=Error,t=TypeError,n=Object.assign,i=void 0,r=Function.prototype.bind,s=RegExp.prototype.test,a=RegExp.prototype.exec,l=SyntaxError,o=RegExp,c=Object.freeze,u=Reflect.apply,f=Proxy,h=Object.create,d=Object.seal?Object.preventExtensions(Object.create(null)):null,p="undefined"==typeof Symbol?i:Symbol.toStringTag,g=Object.defineProperty,b=Array.isArray,y=1/0,w=String.fromCharCode,m=Array,x=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var S=T.call.bind(T),O=function(){return x.bind?x.call.bind(x):function(e,t){return x.call(e,t)}}(),I=Object.create;const v=function(e,t){if(t||(t=e,e=h(d)),n)n(e,t);else for(var i in t)O(t,i)&&(e[i]=t[i]);if(e.default=e,p){var r=h(d);r.value="Module",g(e,p,r)}return"function"==typeof e&&e.prototype&&c(e.prototype),c(e)};var $=r?r.bind(s):function(e){return function(t){return s.call(e,t)}},F=r?r.bind(a):function(e){return function(t){return a.call(e,t)}};function M(e){var t=e.test=$(e),n=e.exec=F(e),i=t.source=n.source=e.source;return t.unicode=n.unicode=e.unicode,t.ignoreCase=n.ignoreCase=e.ignoreCase,t.multiline=n.multiline=i.indexOf("^")<0&&i.indexOf("$")<0?null:e.multiline,t.dotAll=n.dotAll=i.indexOf(".")<0?null:e.dotAll,e}var L=/[\n\t]+/g,k=/\\./g;function U(e){return"\\`"===e?"`":e}var A="".includes?function(e,t){return e.includes(t)}:function(e,t){return e.indexOf(t)>-1};function B(e){for(var n=this.U,i=this.I,r=this.M,s=this.S,a=e.raw,c=a[0].replace(L,""),u=1,f=arguments.length;u!==f;){var h=arguments[u];if("string"==typeof h)c+=h;else{var d=h.source;if("string"!=typeof d)throw t("source");if(h.unicode===n)throw l("unicode");if(h.ignoreCase===i)throw l("ignoreCase");if(h.multiline===r&&(A(d,"^")||A(d,"$")))throw l("multiline");if(h.dotAll===s&&A(d,"."))throw l("dotAll");c+=d}c+=a[u++].replace(L,"")}var p=o(n?c=c.replace(k,U):c,this.flags),g=p.test=$(p),b=p.exec=F(p);return g.source=b.source=c,g.unicode=b.unicode=!n,g.ignoreCase=b.ignoreCase=!i,g.multiline=b.multiline=A(c,"^")||A(c,"$")?!r:null,g.dotAll=b.dotAll=A(c,".")?!s:null,p}var D=r&&r.bind(B);function C(e){return{U:!A(e,"u"),I:!A(e,"i"),M:!A(e,"m"),S:!A(e,"s"),flags:e}}var j=C(""),_=f?new f(B,{apply:function(e,t,n){return u(e,j,n)},get:function(e,t){return D(C(t))},defineProperty:function(){return!1},preventExtensions:function(){return!1}}):function(){B.apply=B.apply;for(var e=function(){return B.apply(j,arguments)},t=63;t--;)!function(t){e[t.flags]=function(){return B.apply(t,arguments)}}(C((32&t?"":"g")+(16&t?"":"i")+(8&t?"":"m")+(4&t?"":"s")+(2&t?"":"u")+(1&t?"":"y")));return c?c(e):e}(),N="$_"in o?function(){var e=/^/;return e.test=e.test,function(t){return e.test(""),t}}():function(e){return e};const E=[];let P="",K=E,R=-1,W=-1;const H=e=>{throw e},q=/\r?\n/,Y=(e,n)=>{if("string"!=typeof n)throw t("TOML.parse(,,,,sourcePath)");P=n,K=e.split(q),R=K.length-1,W=-1};class z{lineIndex=W;type;restColumn;constructor(e,t){return this.type=e,this.restColumn=t,this}must(){return W===R&&H(l(`${this.type} is not close until the end of the file`+Z(", which started from ",this.lineIndex,K[this.lineIndex].length-this.restColumn+1))),K[++W]}nowrap(){H(e("TOML.parse(,,multilineStringJoiner) must be passed, while the source including multi-line string"+Z(", which started from ",this.lineIndex,K[this.lineIndex].length-this.restColumn+1)))}}const Z=(e,t=W,n=0)=>K===E?"":P?`\n    at (${P}:${t+1}:${n})`:`${e}line ${t+1}: ${K[t]}`,J=()=>{P="",K=E},G=RangeError,V=WeakMap,X=WeakMap.prototype.get,Q=WeakMap.prototype.set,ee=Number.isSafeInteger,te=Reflect.ownKeys,ne=Number.MAX_SAFE_INTEGER,ie=Number.MIN_SAFE_INTEGER,re=WeakSet,se=WeakSet.prototype.has,ae=WeakSet.prototype.add,le=WeakSet.prototype.delete,oe=Object.keys,ce=Object.getOwnPropertySymbols,ue=function(){var e=Object.assign||function(e,t){var n,i,r;for(n=oe(t),i=0;i<n.length;++i)e[r=n[i]]=t[r];if(ce)for(n=ce(t),i=0;i<n.length;++i)S(t,r=n[i])&&([r]=t[r]);return e};function t(e){return delete e.prototype.constructor,c(e.prototype),e}var n=function(n){return n===i?this:"function"==typeof n?t(n):e(I(d),n)};return delete n.name,n.prototype=null,c(n),n}(),fe=Object.is,he=Object.fromEntries,de=Reflect.construct,pe=Reflect.defineProperty,ge=Reflect.deleteProperty,be=x.call.bind(x),ye=()=>{const e=new V;return e.has=e.has,e.get=e.get,e.set=e.set,e},we=ye(),me=ye(),xe=ye(),Te=n(h(d),{defineProperty:(e,t,i)=>{if(be(e,t))return pe(e,t,n(h(d),i));if(pe(e,t,n(h(d),i))){const n=we.get(e);return n[n.length]=t,!0}return!1},deleteProperty:(e,t)=>{if(ge(e,t)){const n=we.get(e),i=n.indexOf(t);return i<0||--n.copyWithin(i,i+1).length,!0}return!1},ownKeys:e=>we.get(e),construct:(e,t,n)=>Oe(de(e,t,n)),apply:(e,t,n)=>Oe(u(e,t,n))}),Se=(e,t)=>{we.set(e,t);const n=new f(e,Te);return me.set(n,e),n},Oe=e=>{if(me.has(e))return e;let t=xe.get(e);return t||(t=Se(e,n([],te(e))),xe.set(e,t),t)},Ie=function(){function e(){throw t("Super constructor Null cannot be invoked with 'new'")}function i(){throw t("Super constructor Null cannot be invoked without 'new'")}const r=e=>(delete e.prototype.constructor,c(e.prototype),e);function s(t){return new.target?new.target===s?e():Se(this,[]):"function"==typeof t?r(t):i()}return s.prototype=null,g(s,"name",n(h(d),{value:"",configurable:!1})),c(s),s}(),ve=WeakMap.prototype.has,$e=new V,Fe=ve.bind($e),Me=X.bind($e),Le=Q.bind($e),ke=new re,Ue=se.bind(ke),Ae=ae.bind(ke),Be=new re,De=ae.bind(Be),Ce=se.bind(Be),je=new re,_e=ae.bind(je),Ne=le.bind(je),Ee=!0,Pe=!1,Ke=new re,Re=ae.bind(Ke),We=se.bind(Ke),He=ue(class extends ue{constructor(e,t){return super(),De(this),e?t?Le(this,!0):Ae(this):(t?Re:_e)(this),this}}),qe=ue(class extends Ie{constructor(e,t){return super(),De(this),e?t?Le(this,!0):Ae(this):(t?Re:_e)(this),this}}),Ye=/[ \t]/,ze=(()=>_`
	^${Ye}+`)(),Ze=(()=>_.s`
	^
	(
		(?:\d\d\d\d-\d\d-\d\d \d)?
		[\w\-+.:]+
	)
	${Ye}*
	(.*)
	$`.exec)(),Je=(()=>_.s`
	^
	'([^']*)'
	${Ye}*
	(.*)`.exec)(),Ge=(()=>_.s`
	^
	(.*?)
	'''('{0,2})
	${Ye}*
	(.*)`.exec)(),Ve=(()=>_.s`
	^
	(.*?)
	'''()
	${Ye}*
	(.*)`.exec)();let Xe=Ve;const Qe=(()=>_.s`
	^
	.
	${Ye}*`)(),et=/[^\x00-\x1F"#'()<>[\\\]`{}\x7F]+/,tt=(()=>_.s`
	^
	${Ye}*
	=
	${Ye}*
	(?:
		<(${et})>
		${Ye}*
	)?
	(.*)
	$`.exec)(),nt=(()=>_.s`
	^
	<(${et})>
	${Ye}*
	(.*)
	$`.exec)(),it=(()=>_.s`
	^
	<(${et})>
	${Ye}*
	(.*)
	$`.exec)(),rt=M(/(?:[^\\"]+|\\.|""?(?!")){1,10}/ys),st=e=>{let t=rt.lastIndex=0;for(;rt.test(e);)t=rt.lastIndex;return e.slice(0,t)},at=/[^\\\x00-\x08\x0B-\x1F\x7F]+|\\(?:[btnfr"\\]|[\t ]*\n[\t\n ]*|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})/g,lt=/[^\\\x00-\x09\x0B-\x1F\x7F]+|\\(?:[btnfr"\\]| *\n[\n ]*|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})/g,ot=/[^\\\x00-\x09\x0B-\x1F]+|\\(?:[btnfr"\\]|\n[\n ]*|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})/g,ct=/[^\\\x00-\x09\x0B-\x1F]+|\\(?:[btnfr"\\/]|\n[\n ]*|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})/g;let ut=at;const ft=e=>!e.replace(ut,""),ht=M(/(?:[^\\"\x00-\x08\x0B-\x1F\x7F]+|\\(?:[btnfr"\\]|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})){1,10}/y),dt=M(/(?:[^\\"\x00-\x09\x0B-\x1F\x7F]+|\\(?:[btnfr"\\]|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})){1,10}/y),pt=M(/(?:[^\\"\x00-\x09\x0B-\x1F]+|\\(?:[btnfr"\\]|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})){1,10}/y),gt=M(/(?:[^\\"\x00-\x09\x0B-\x1F]+|\\(?:[btnfr"\\/]|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})){1,10}/y);let bt=gt;const yt=e=>{let t=bt.lastIndex=1;for(;bt.test(e);)t=bt.lastIndex;return t!==e.length&&'"'===e[t]||H(l("Bad basic string"+Z(" at "))),e.slice(1,t)},wt=(()=>M(/^[ \t]*\./).test)(),mt=/^[ \t]*\.[ \t]*/,xt=(()=>M(/^[\w-]+/).exec)(),Tt=(()=>M(/^[^ \t#=[\]'".]+(?:[ \t]+[^ \t#=[\]'".]+)*/).exec)();let St=Tt;const Ot=(()=>M(/^'[^'\x00-\x08\x0B-\x1F\x7F]*'/).exec)(),It=(()=>M(/^'[^'\x00-\x08\x0B-\x1F]*'/).exec)();let vt=It,$t=!0;const Ft=(e,t)=>{const n="["===e[1];n?($t||H(l("Array of Tables is not allowed before TOML v0.2"+Z(", which at "))),e=e.slice(2)):e=e.slice(1),e=e.replace(ze,"");const{leadingKeys:i,finalKey:r}=({lineRest:e}=t(e));let s;return(e=e.replace(ze,""))&&"]"===e[0]||H(l("Table header is not closed"+Z(", which is found at "))),(e.length>1?"]"===e[1]===n:!n)||H(l("Square brackets of Table definition statement not match"+Z(" at "))),(e=e.slice(n?2:1).replace(ze,""))&&"<"===e[0]?({1:s,2:e}=it(e)??H(l("Bad tag"+Z(" at ")))):s="",{leadingKeys:i,finalKey:r,asArrayItem:n,tag:s,lineRest:e}},Mt=(()=>M(/[\x00-\x08\x0B-\x1F\x7F]/).test)(),Lt=(()=>M(/[\x00-\x08\x0B-\x1F]/).test)();let kt=Mt;const Ut=(()=>_`
	(?:
		0
		(?:
			b[01][_01]*
		|
			o[0-7][_0-7]*
		|
			x[\dA-Fa-f][_\dA-Fa-f]*
		|
			(?:\.\d[_\d]*)?(?:[Ee]-?\d[_\d]*)?
		)
	|
		[1-9][_\d]*
		(?:\.\d[_\d]*)?(?:[Ee]-?\d[_\d]*)?
	|
		inf
	|
		nan
	)
`)(),At=(()=>_`
	^(?:
		-?${Ut}
		(?:-${Ut})*
	|
		true
	|
		false
	)$
`.test)(),Bt=(()=>_`_(?![\dA-Fa-f])`.test)(),Dt=e=>At(e)&&!Bt(e);let Ct,jt,_t,Nt,Et,Pt,Kt,Rt,Wt,Ht,qt,Yt,zt,Zt=null,Jt=!0,Gt=0,Vt=0;const Xt=new V,Qt=X.bind(Xt),en=Q.bind(Xt),tn=()=>{const e=n=>{const i=Qt(n);return i?i===e||H(t("Types in Array must be same"+Z(". Check "))):en(n,e),n};return e},nn={asNulls:tn(),asStrings:tn(),asTables:tn(),asArrays:tn(),asBooleans:tn(),asFloats:tn(),asIntegers:tn(),asOffsetDateTimes:tn(),asLocalDateTimes:tn(),asLocalDates:tn(),asLocalTimes:tn()},rn=e=>e;let sn,an,ln,on,cn,un,fn,hn,dn,pn,gn,bn=null,yn=[],wn=0;const mn=(e,t,n,i)=>{const r=h(d);r.tag=e,n&&(r.table=n,r.key=i),t&&(r.array=t,r.index=t.length),yn[wn++]=r},xn=()=>{H(l("xOptions.tag is not enabled, but found tag syntax"+Z(" at ")))};let Tn=xn;const Sn=Symbol("previous"),On=e=>{let t=e,n=t.next();if(!n.done)for(n.value[Sn]=t,n=(t=n.value).next();;)if(n.done){if(t===e)break;t=t[Sn],n=t.next(n.value)}else n.value[Sn]=t,n=(t=n.value).next();return n.value},In=new re,vn=ae.bind(In),$n=se.bind(In),Fn=new re,Mn=ae.bind(Fn),Ln=se.bind(Fn),kn=e=>{const t=[];return vn(t),e&&Mn(t),t},Un=Date,An=Date.parse,Bn=Object.preventExtensions,Dn=e=>(c(c(e).prototype),e),Cn=/(?:0[1-9]|1\d|2\d)/,jn=/(?:0[1-9]|[12]\d|30)/,_n=/(?:0[1-9]|[12]\d|3[01])/,Nn=/(?:[01]\d|2[0-3])/,En=/[0-5]\d/,Pn=(()=>_`
	\d\d\d\d-
	(?:
		0
		(?:
			[13578]-${_n}
			|
			[469]-${jn}
			|
			2-${Cn}
		)
		|
		1
		(?:
			[02]-${_n}
			|
			1-${jn}
		)
	)
`)(),Kn=(()=>_`
	${Nn}:${En}:${En}
`)(),Rn=/(?:Z|[+-]\d\d:\d\d)$/,Wn=(()=>M(/(([+-])\d\d):(\d\d)$/).exec)(),Hn=(()=>_`
	^
	${Pn}
	[T ]
	${Kn}
	(?:\.\d{1,3}(\d*?)0*)?
	(?:Z|[+-]${Nn}:${En})
	$`.exec)(),qn=(()=>_`
	^
	${Pn}
	[T ]
	${Kn}
	()
	Z
	$`.exec)(),Yn=(()=>_`
	^
	${Pn}
	[T ]
	${Kn}
	(?:\.\d+)?
	$`.test)(),zn=(()=>_`
	^
	${Pn}
	$`.test)(),Zn=(()=>_`
	^
	${Kn}
	(?:\.\d+)?
	$`.test)(),Jn=/\.?0+$/,Gn=/[-T:.]/g,Vn=/(?<=\.\d*)0+$/,Xn=(()=>{const e=function(){return this},t=ue(null);{const e=ue(null);for(const n of te(Un.prototype))"constructor"===n||"toJSON"===n||(t[n]=e)}return e.prototype=Bn(h(Un.prototype,t)),c(e)})(),Qn=e=>e.replace(Vn,"").replace(Gn,""),ei=e=>"02-29"!==e.slice(5,10)||+e.slice(0,4)%4==0&&"00"!==e.slice(2,4),ti=new Un(0),ni=Symbol("OffsetDateTime_ISOString"),ii=Symbol("OffsetDateTime_value"),ri=(e,t=0)=>(ti.setTime(+e[ii]+t),ti),si=(e,t,n)=>+e[ni].slice(t,n),ai=(e,t,n,i)=>{n&&(e[ni]=e[ni].slice(0,t)+(""+i).padStart(n-t,"0")+e[ni].slice(n));const r=An(e[ni]);return e[ii]=(""+r).padStart(15,"0")+e[ii].slice(15),r},li=Dn(class extends Xn{[ni];[ii];valueOf(){return this[ii]}toISOString(){return this[ni]}constructor(e){const{1:t}=ei(e)&&(jt?qn:Hn)(e)||H(l(`Invalid Offset Date-Time ${e}`+Z(" at ")));return super(),this[ni]=e.replace(" ","T"),this[ii]=(""+An(this[ni])).padStart(15,"0")+(t?"."+t:""),this}getUTCFullYear(){return ri(this).getUTCFullYear()}getFullYear(){return si(this,0,4)}setFullYear(e){return ai(this,0,4,e)}getUTCMonth(){return ri(this).getUTCMonth()}getMonth(){return si(this,5,7)-1}setMonth(e){return ai(this,5,7,e+1)}getUTCDate(){return ri(this).getUTCDate()}getDate(){return si(this,8,10)}setDate(e){return ai(this,8,10,e)}getUTCHours(){return ri(this).getUTCHours()}getHours(){return si(this,11,13)}setHours(e){return ai(this,11,13,e)}getUTCMinutes(){return ri(this).getUTCMinutes()}getMinutes(){return si(this,14,16)}setMinutes(e){return ai(this,14,16,e)}getUTCSeconds(){return ri(this).getUTCSeconds()}getSeconds(){return si(this,17,19)}setSeconds(e){return ai(this,17,19,e)}getUTCMilliseconds(){return ri(this).getUTCMilliseconds()}getMilliseconds(){return+this[ii].slice(12,15)}setMilliseconds(e){return this[ni]=this[ni].slice(0,19)+(e?("."+(""+e).padStart(3,"0")).replace(Jn,""):"")+this[ni].slice(this[ni].search(Rn)),ai(this,0,0,0)}getUTCDay(){return ri(this).getUTCDay()}getDay(){return ri(this,6e4*this.getTimezoneOffset()).getUTCDay()}getTimezoneOffset(){const e=Wn(this[ni]);return e?60*+e[1]+ +(e[2]+e[3]):0}setTimezoneOffset(e){let t=ri(this,6e4*(e=+e)).toISOString().slice(0,-1);if(e){e>0?t+="+":(t+="-",e=-e);const n=e%60,i=(e-n)/60;this[ni]=t+(i>9?i:"0"+i)+(n>9?":"+n:":0"+n)}else this[ni]=t+(fe(e,0)?"Z":"-00:00")}getTime(){return+this[ii].slice(0,15)}setTime(e){e=ti.setTime(e);const t=Wn(this[ni]);return ti.setTime(e+6e4*(t?60*+t[1]+ +(t[2]+t[3]):0)),this[ni]=t?ti.toISOString().slice(0,-1)+t[0]:ti.toISOString(),this[ii]=(""+e).padStart(15,"0"),e}}),oi=Symbol("LocalDateTime_ISOString"),ci=Symbol("LocalDateTime_value"),ui=(e,t,n)=>+e[oi].slice(t,n),fi=(e,t,n,i)=>{e[ci]=Qn(e[oi]=e[oi].slice(0,t)+(""+i).padStart(n-t,"0")+e[oi].slice(n))},hi=Dn(class extends Xn{[oi];[ci];valueOf(){return this[ci]}toISOString(){return this[oi]}constructor(e){return Yn(e)&&ei(e)||H(l(`Invalid Local Date-Time ${e}`+Z(" at "))),super(),this[ci]=Qn(this[oi]=e.replace(" ","T")),this}getFullYear(){return ui(this,0,4)}setFullYear(e){return fi(this,0,4,e)}getMonth(){return ui(this,5,7)-1}setMonth(e){return fi(this,5,7,e+1)}getDate(){return ui(this,8,10)}setDate(e){return fi(this,8,10,e)}getHours(){return ui(this,11,13)}setHours(e){return fi(this,11,13,e)}getMinutes(){return ui(this,14,16)}setMinutes(e){return fi(this,14,16,e)}getSeconds(){return ui(this,17,19)}setSeconds(e){return fi(this,17,19,e)}getMilliseconds(){return+this[ci].slice(14,17).padEnd(3,"0")}setMilliseconds(e){this[ci]=Qn(this[oi]=this[oi].slice(0,19)+(e?("."+(""+e).padStart(3,"0")).replace(Jn,""):""))}}),di=Symbol("LocalDate_ISOString"),pi=Symbol("LocalDate_value"),gi=(e,t,n)=>+e[di].slice(t,n),bi=(e,t,n,i)=>{e[pi]=Qn(e[di]=e[di].slice(0,t)+(""+i).padStart(n-t,"0")+e[di].slice(n))},yi=Dn(class extends Xn{[di];[pi];valueOf(){return this[pi]}toISOString(){return this[di]}constructor(e){return zn(e)&&ei(e)||H(l(`Invalid Local Date ${e}`+Z(" at "))),super(),this[pi]=Qn(this[di]=e),this}getFullYear(){return gi(this,0,4)}setFullYear(e){return bi(this,0,4,e)}getMonth(){return gi(this,5,7)-1}setMonth(e){return bi(this,5,7,e+1)}getDate(){return gi(this,8,10)}setDate(e){return bi(this,8,10,e)}}),wi=Symbol("LocalTime_ISOString"),mi=Symbol("LocalTime_value"),xi=(e,t,n)=>+e[wi].slice(t,n),Ti=(e,t,n,i)=>{e[mi]=Qn(e[wi]=e[wi].slice(0,t)+(""+i).padStart(2,"0")+e[wi].slice(n))},Si=Dn(class extends Xn{[wi];[mi];valueOf(){return this[mi]}toISOString(){return this[wi]}constructor(e){return Zn(e)||H(l(`Invalid Local Time ${e}`+Z(" at "))),super(),this[mi]=Qn(this[wi]=e),this}getHours(){return xi(this,0,2)}setHours(e){return Ti(this,0,2,e)}getMinutes(){return xi(this,3,5)}setMinutes(e){return Ti(this,3,5,e)}getSeconds(){return xi(this,6,8)}setSeconds(e){return Ti(this,6,8,e)}getMilliseconds(){return+this[mi].slice(6,9).padEnd(3,"0")}setMilliseconds(e){this[mi]=Qn(this[wi]=this[wi].slice(0,8)+(e?("."+(""+e).padStart(3,"0")).replace(Jn,""):""))}}),Oi=parseInt,Ii=String.fromCodePoint,vi=/[^\\]+|\\(?:[\\"btnfr/]|u.{4}|U.{8})/gs,$i=/[^\n\\]+|\n|\\(?:[\t ]*\n[\t\n ]*|[\\"btnfr/]|u.{4}|U.{8})/gs,Fi=e=>{if(!e)return"";const t=e.match(vi),{length:n}=t;let i=0;do{const e=t[i];if("\\"===e[0])switch(e[1]){case"\\":t[i]="\\";break;case'"':t[i]='"';break;case"b":t[i]="\b";break;case"t":t[i]="\t";break;case"n":t[i]="\n";break;case"f":t[i]="\f";break;case"r":t[i]="\r";break;case"u":const n=Oi(e.slice(2),16);55295<n&&n<57344&&H(G(`Invalid Unicode Scalar ${e}`+Z(" at "))),t[i]=w(n);break;case"U":const r=Oi(e.slice(2),16);(55295<r&&r<57344||1114111<r)&&H(G(`Invalid Unicode Scalar ${e}`+Z(" at "))),t[i]=Ii(r);break;case"/":t[i]="/"}}while(++i!==n);return t.join("")},Mi=(e,t,n)=>{if(!e)return"";const i=e.match($i),{length:r}=i;let s=0;do{const e=i[s];if("\n"===e)++n,i[s]=t;else if("\\"===e[0])switch(e[1]){case"\n":case" ":case"\t":for(let i=0;i=e.indexOf("\n",i)+1;)++n;i[s]="";break;case"\\":i[s]="\\";break;case'"':i[s]='"';break;case"b":i[s]="\b";break;case"t":i[s]="\t";break;case"n":i[s]="\n";break;case"f":i[s]="\f";break;case"r":i[s]="\r";break;case"u":const t=Oi(e.slice(2),16);55295<t&&t<57344&&H(G(`Invalid Unicode Scalar ${e}`+Z(" at ",W+n))),i[s]=w(t);break;case"U":const r=Oi(e.slice(2),16);(55295<r&&r<57344||1114111<r)&&H(G(`Invalid Unicode Scalar ${e}`+Z(" at ",W+n))),i[s]=Ii(r);break;case"/":i[s]="/"}}while(++s!==r);return i.join("")},Li=BigInt,ki=/[-+]?(?:0|[1-9][_\d]*)/,Ui=(()=>_`_(?!\d)`.test)(),Ai=(()=>_`^${ki}$`.test)(),Bi=(()=>M(/^0(?:x[\dA-Fa-f][_\dA-Fa-f]*|o[0-7][_0-7]*|b[01][_01]*)$/).test)(),Di=(()=>_`_(?![\dA-Fa-f])`.test)(),Ci=/_|^[-+]/g,ji=e=>(Ai(e)||Bi(e))&&!Di(e),_i=e=>{ji(e)||H(l(`Invalid Integer ${e}`+Z(" at ")));let t=Li(e.replace(Ci,""));return"-"===e[0]&&(t=-t),Wt||-9223372036854775808n<=t&&t<=9223372036854775807n||H(G(`Integer expect 64 bit range (-9,223,372,036,854,775,808 to 9,223,372,036,854,775,807), not includes ${e}`+Z(" meet at "))),t},Ni=e=>{if(!0===Jt)return _i(e);if(!1===Jt)return(e=>{ji(e)||H(l(`Invalid Integer ${e}`+Z(" at ")));const t="-"===e[0]?-e.replace(Ci,""):+e.replace(Ci,"");return ee(t)||H(G(`Integer did not use BitInt must fit Number.isSafeInteger, not includes ${e}`+Z(" meet at "))),t})(e);const t=_i(e);return Gt<=t&&t<=Vt?+(t+""):t},Ei=isFinite,Pi=(()=>_`
	^
	${ki}
	(?:
		\.\d[_\d]*
		(?:[eE][-+]?\d[_\d]*)?
	|
		[eE][-+]?\d[_\d]*
	)
	$`.test)(),Ki=/_/g,Ri=(()=>M(/^[-+]?0(?:\.[0_]+)?(?:[eE][-+]?0+)?$/).test)(),Wi=e=>{Pi(e)&&!Ui(e)||H(l(`Invalid Float ${e}`+Z(" at ")));const t=+e.replace(Ki,"");return Pt&&(Ei(t)||H(G(`Float has been as big as inf, like ${e}`+Z(" at "))),t||Ri(e)||H(G(`Float has been as little as ${"-"===e[0]?"-":""}0, like ${e}`+Z(" at ")))),t},Hi=(t,n)=>{const{length:i}=n;let r=0;for(;r<i;){const s=n[r++];if(!(s in t)){for(t=t[s]=new Rt(Pe);r<i;)t=t[n[r++]]=new Rt(Pe);return t}Ce(t=t[s])?Fe(t)&&H(e("Trying to define Table under Inline Table"+Z(" at "))):$n(t)?(Ln(t)&&H(e("Trying to append value to Static Array"+Z(" at "))),t=t[t.length-1]):H(e("Trying to define Table under non-Table value"+Z(" at ")))}return t},qi=(t,n,i,r)=>{let s;if(i){let i;n in t?$n(i=t[n])&&!Ln(i)||H(e("Trying to push Table to non-ArrayOfTables value"+Z(" at "))):i=t[n]=kn(!1),r&&Tn(r,i,t,n),i[i.length]=s=new Rt(Ee)}else n in t?(s=t[n],(e=>!!Ne(e)&&(Ae(e),!0))(s)||H(e("Duplicate Table definition"+Z(" at "))),We(s)&&H(e("A table defined implicitly via key/value pair can not be accessed to via []"+Z(", which at ")))):t[n]=s=new Rt(Ee),r&&Tn(r,null,t,n);return s},Yi=(t,n)=>{const{length:i}=n;let r=0;for(;r<i;){const s=n[r++];if(!(s in t)){for(t=t[s]=new Rt(Pe,!0);r<i;)t=t[n[r++]]=new Rt(Pe,!0);return t}Ce(t=t[s])||H(e("Trying to assign property through non-Table value"+Z(" at "))),Fe(t)&&H(e("Trying to assign property through static Inline Table"+Z(" at "))),We(t)||H(e("A table defined implicitly via [] can not be accessed to via key/value pair"+Z(", which at ")))}return t},zi=e=>(kt(e)&&H(l("Control characters other than Tab are not permitted in a Literal String"+Z(", which was found at "))),e),Zi=(e,t,n)=>{if("'"!==n[1]||"'"!==n[2]){const i=Je(n)??H(l("Bad literal string"+Z(" at ")));return e[t]=zi(i[1]),i[2]}n=n.slice(3);const i=Xe(n);if(i)return e[t]=zi(i[1])+i[2],i[3];const r=new z("Multi-line Literal String",n.length+3);if(!n){n=r.must();const i=Xe(n);if(i)return e[t]=zi(i[1])+i[2],i[3]}Zt??r.nowrap();for(const s=[zi(n)];;){const n=r.must(),i=Xe(n);if(i)return s[s.length]=zi(i[1])+i[2],e[t]=s.join(Zt),i[3];s[s.length]=zi(n)}},Ji=(e,t,n)=>{if('"'!==n[1]||'"'!==n[2]){const i=yt(n);return e[t]=Fi(i),n.slice(2+i.length).replace(ze,"")}n=n.slice(3);const i=st(n);let{length:r}=i;if(n.startsWith('"""',r))return ft(i)||H(l("Bad multi-line basic string"+Z(" at "))),r+=3,e[t]=Fi(i)+(Ct&&'"'===n[r]?'"'===n[++r]?(++r,'""'):'"':""),n.slice(r).replace(ze,"");const s=new z("Multi-line Basic String",n.length+3),a=n?0:1;if(a){n=s.must();const i=st(n);let{length:r}=i;if(n.startsWith('"""',r))return ft(i)||H(l("Bad multi-line basic string"+Z(" at "))),r+=3,e[t]=Mi(i,Zt,a)+(Ct&&'"'===n[r]?'"'===n[++r]?(++r,'""'):'"':""),n.slice(r).replace(ze,"")}Zt??s.nowrap(),ft(n+="\n")||H(l("Bad multi-line basic string"+Z(" at ")));for(const o=[n];;){let n=s.must();const i=st(n);let{length:r}=i;if(n.startsWith('"""',r))return ft(i)||H(l("Bad multi-line basic string"+Z(" at "))),r+=3,e[t]=Mi(o.join("")+i,Zt,a)+(Ct&&'"'===n[r]?'"'===n[++r]?(++r,'""'):'"':""),n.slice(r).replace(ze,"");ft(n+="\n")||H(l("Bad multi-line basic string"+Z(" at "))),o[o.length]=n}},Gi=Symbol,Vi=ue(null),Xi=e=>Vi[e]??(e=>{const t=Gi(e);return Vi[t]=e,Vi[e]=t})(e),Qi=/\r?\n/g,er=(e,n)=>{if(n in Vi&&Vi[n]in e){const i=e[Vi[n]];if("string"==typeof i)return" #"+i.replace(Qi,"");throw t(`the value of commentKey must be "string" type, while "${null===i?"null":typeof i}" is found`)}return""},tr=(()=>M(Rn).test)(),nr=e=>{let t=e;const n=[];let i=-1;for(;;){if(t||H(l("Empty bare key"+Z(" at "))),'"'===t[0]){const e=yt(t);t=t.slice(2+e.length),n[++i]=Fi(e)}else{const e="'"===t[0],r=((e?vt:St)(t)??H(l(`Bad ${e?"literal string":"bare"} key`+Z(" at "))))[0];t=t.slice(r.length),n[++i]=e?r.slice(1,-1):r}if(!wt(t))break;t=t.replace(mt,"")}if(zt){const n=e.slice(0,-t.length);(Dt(n)||Ht&&"null"===n)&&H(l("Bad bare key disabled by xOptions.string"+Z(" at ")))}if(Et){let e=i;do{n[e]||H(l("Empty key is not allowed before TOML v0.5"+Z(", which at ")))}while(e--)}const r=n[i];return n.length=i,{leadingKeys:n,finalKey:r,lineRest:t}},ir=(e,t)=>{if("<"===t[0]){const{1:n}=({2:t}=nt(t)??H(l("Bad tag "+Z(" at "))));switch(Tn(n,e,null),t&&t[0]){case",":case"]":case"":case"#":return e[e.length]=i,t}}switch(t[0]){case"'":return Zi(an(e),e.length,t);case'"':return Ji(an(e),e.length,t);case"{":return _t||H(l("Inline Table is not allowed before TOML v0.4"+Z(", which at "))),sr(ln(e),e.length,t);case"[":return rr(on(e),e.length,t)}const{1:n}=({2:t}=Ze(t)??H(l("Bad atom value"+Z(" at "))));if(Kt){if("inf"===n||"+inf"===n)return un(e)[e.length]=y,t;if("-inf"===n)return un(e)[e.length]=-1/0,t;if("nan"===n||"+nan"===n||"-nan"===n)return un(e)[e.length]=NaN,t}return n.includes(":")?(n.includes("-")?tr(n)?hn(e)[e.length]=new li(n):(Nt||H(l("Local Date-Time is not allowed before TOML v0.5"+Z(", which at "))),dn(e)[e.length]=new hi(n)):(Nt||H(l("Local Time is not allowed before TOML v0.5"+Z(", which at "))),gn(e)[e.length]=new Si(n)),t):n.indexOf("-")!==n.lastIndexOf("-")&&"-"!==n[0]?(Nt||H(l("Local Date is not allowed before TOML v0.5"+Z(", which at "))),pn(e)[e.length]=new yi(n),t):("true"===n?cn(e)[e.length]=!0:"false"===n?cn(e)[e.length]=!1:n.includes(".")||(n.includes("e")||n.includes("E"))&&!n.startsWith("0x")?un(e)[e.length]=Wi(n):Ht&&"null"===n?sn(e)[e.length]=null:fn(e)[e.length]=Ni(n),t)},rr=function*(e,t,n){const i=e[t]=kn(!0),r=new z("Static Array",n.length);n=n.replace(Qe,"");let s=!0;for(;!n||"#"===n[0];)s=!1,n=r.must().replace(ze,"");if("]"===n[0])return s&&Le(i,!0),n.replace(Qe,"");for(;;){const e=ir(i,n);for(n="string"==typeof e?e:yield e;!n||"#"===n[0];)s=!1,n=r.must().replace(ze,"");if(","===n[0]){for(n=n.replace(Qe,"");!n||"#"===n[0];)s=!1,n=r.must().replace(ze,"");if("]"===n[0])break}else{if("]"===n[0])break;H(l("Unexpect character in static array item value"+Z(", which is found at ")))}}return s&&Le(i,!0),n.replace(Qe,"")},sr=function*(e,t,n){const i=e[t]=new Rt(Ee,!0);if(qt){const e=new z("Inline Table",n.length);n=n.replace(Qe,"");let t=!0;for(;;){for(;!n||"#"===n[0];)t=!1,n=e.must().replace(ze,"");if("}"===n[0])break;const r=ar(i,n),s=lr(r);if(n="string"==typeof s?s:yield s){if("#"===n[0]){Yt&&(r.table[Xi(r.finalKey)]=n.slice(1)),t=!1;do{n=e.must().replace(ze,"")}while(!n||"#"===n[0])}}else{t=!1;do{n=e.must().replace(ze,"")}while(!n||"#"===n[0])}","===n[0]&&(n=n.replace(Qe,""))}t||Le(i,!1)}else if("}"!==(n=n.replace(Qe,"")||H(l("Inline Table is intended to appear on a single line"+Z(", which broken at "))))[0])for(;;){"#"===n[0]&&H(l("Inline Table is intended to appear on a single line"+Z(", which broken at ")));const e=lr(ar(i,n));if("}"===(n=("string"==typeof e?e:yield e)||H(l("Inline Table is intended to appear on a single line"+Z(", which broken at "))))[0])break;","===n[0]&&"}"===(n=n.replace(Qe,"")||H(l("Inline Table is intended to appear on a single line"+Z(", which broken at "))))[0]&&H(l("The last property of an Inline Table can not have a trailing comma"+Z(", which was found at ")))}return n.replace(Qe,"")},ar=(e,t)=>{const{leadingKeys:n,finalKey:i,tag:r}=({lineRest:t}=(({leadingKeys:e,finalKey:t,lineRest:n})=>{const{1:i=""}=({2:n}=tt(n)??H(l("Keys must equal something"+Z(", but missing at "))));return i||n&&"#"!==n[0]||H(l("Value can not be missing after euqal sign"+Z(", which is found at "))),{leadingKeys:e,finalKey:t,tag:i,lineRest:n}})(nr(t)));return{table:Yi(e,n),finalKey:i,tag:r,lineRest:t}},lr=({finalKey:t,tag:n,lineRest:r,table:s})=>{if(t in s&&H(e("Duplicate property definition"+Z(" at "))),n)switch(Tn(n,null,s,t),r&&r[0]){case",":case"}":case"":case"#":return s[t]=i,r}switch(r&&r[0]){case"'":return Zi(s,t,r);case'"':return Ji(s,t,r);case"{":return _t||H(l("Inline Table is not allowed before TOML v0.4"+Z(", which at "))),sr(s,t,r);case"[":return rr(s,t,r)}const{1:a}=({2:r}=Ze(r)??H(l("Bad atom value"+Z(" at "))));if(Kt){if("inf"===a||"+inf"===a)return s[t]=y,r;if("-inf"===a)return s[t]=-1/0,r;if("nan"===a||"+nan"===a||"-nan"===a)return s[t]=NaN,r}return a.includes(":")?(a.includes("-")?tr(a)?s[t]=new li(a):(Nt||H(l("Local Date-Time is not allowed before TOML v0.5"+Z(", which at "))),s[t]=new hi(a)):(Nt||H(l("Local Time is not allowed before TOML v0.5"+Z(", which at "))),s[t]=new Si(a)),r):a.indexOf("-")!==a.lastIndexOf("-")&&"-"!==a[0]?(Nt||H(l("Local Date is not allowed before TOML v0.5"+Z(", which at "))),s[t]=new yi(a),r):(s[t]="true"===a||"false"!==a&&(a.includes(".")||(a.includes("e")||a.includes("E"))&&!a.startsWith("0x")?Wi(a):Ht&&"null"===a?null:Ni(a)),r)},or=Uint8Array,cr="undefined"==typeof Buffer?i:Buffer,ur=e=>"byteLength"in e,fr="A TOML doc must be a (ful-scalar) valid UTF-8 file, without any unknown code point.",hr=cr?(({isBuffer:t,[Symbol.species]:n,byteLength:i,allocUnsafe:r})=>s=>{if(!s.byteLength)return"";const a=t(s)?s:"length"in s?new n(s.buffer,s.byteOffset,s.length):new n(s),l=a.toString();if(l.includes("�")){const t=i(l);if(t!==a.length)throw e(fr);const n=r(t);if(n.utf8Write(l,0,t),!n.equals(a))throw e(fr)}return"\ufeff"===l[0]?l.slice(1):l})(cr):t=>{if(!t.byteLength)return"";const n="length"in t?t:new or(t),{length:i}=n,r=i-1,s=r-1,a=s-1,l=[];let o=0,c=0;do{let t=n[c];if(t<192){if(t<128){l[o++]=w(t),c+=1;continue}}else if(t<224){if(c<r){const e=n[c+1];if(128==(192&e)&&(t=(31&t)<<6|63&e,127<t)){l[o++]=w(t),c+=2;continue}}}else if(t<240){if(c<s){const e=n[c+1],i=n[c+2];if(128==(192&e)&&128==(192&i)&&(t=(15&t)<<12|(63&e)<<6|63&i,(t<55296?2047:57343)<t)){l[o++]=w(t),c+=3;continue}}}else if(c<a){const e=n[c+1],i=n[c+2],r=n[c+3];if(128==(192&e)&&128==(192&i)&&128==(192&r)&&(t=(15&t)<<18|(63&e)<<12|(63&i)<<6|63&r,65535<t&&t<1114112)){l[o++]=Ii(t),c+=4;continue}}throw e(fr)}while(c!==i);const u=l.join("");return"\ufeff"===u[0]?u.slice(1):u},dr=(()=>M(/[\uD800-\uDFFF]/u).test)();let pr=!1;const gr=(n,r,s,a,o)=>{if(pr)throw e("parse during parsing.");let c,u;pr=!0;try{let f="";if("object"==typeof n&&n)if(ur(n))n=hr(n);else{if(f=n.path,"string"!=typeof f)throw t("TOML.parse(source.path)");const{data:e,require:r=("function"==typeof require?require:i)}=n;if(r){const s=r.resolve?.paths?.("")?.[0]?.replace(/node_modules$/,"");if(s&&(f=r("path").resolve(s,f),"string"!=typeof f))throw t("TOML.parse(source.require('path').resolve)");if(e===i){const e=r("fs").readFileSync(f);if("object"!=typeof e||!e||!ur(e))throw t("TOML.parse(source.require('fs').readFileSync)");n=hr(e)}else if("string"==typeof e)n=e;else{if("object"!=typeof e||!e||!ur(e))throw t("TOML.parse(source.data)");n=hr(e)}}else{if(e===i)throw t("TOML.parse(source.data|source.require)");if("string"==typeof e)n=e;else{if("object"!=typeof e||!e||!ur(e))throw t("TOML.parse(source.data)");n=hr(e)}}}else if("string"!=typeof n)throw t("TOML.parse(source)");try{if(dr(n))throw e("A TOML doc must be a (ful-scalar) valid UTF-8 file, without any uncoupled UCS-4 character code.");if("object"==typeof s&&s){if(a!==i||o!==i)throw t("options mode ? args mode");({joiner:s,bigint:a,x:o}=s)}try{((e,n,r,s)=>{let a;switch(e){case 1:a=Ct=Nt=Kt=_t=!0,jt=Et=!1;break;case.5:Nt=Kt=_t=!0,a=Ct=jt=Et=!1;break;case.4:Et=_t=!0,a=Ct=jt=Nt=Kt=!1;break;case.3:Et=!0,a=Ct=jt=Nt=Kt=_t=!1;break;case.2:case.1:jt=Et=!0,a=Ct=Nt=Kt=_t=!1;break;default:throw G("TOML.parse(,specificationVersion)")}if((e=>{switch(e){case 1:Xe=Ge,vt=Ot,kt=Mt,ut=at,bt=ht,St=xt,$t=!0;break;case.5:Xe=Ve,vt=Ot,kt=Mt,ut=lt,bt=dt,St=xt,$t=!0;break;case.4:Xe=Ve,vt=It,kt=Lt,ut=ot,bt=pt,St=xt,$t=!0;break;default:Xe=Ve,vt=It,kt=Lt,ut=ct,bt=gt,St=Tt,$t=!1}})(e),"string"==typeof n)Zt=n;else{if(n!==i)throw t("TOML.parse(,,multilineStringJoiner)");Zt=null}if(r===i||!0===r)Jt=!0;else if(!1===r)Jt=!1;else{if("number"!=typeof r)throw t("TOML.parse(,,,useBigInt)");if(!ee(r))throw G("TOML.parse(,,,useBigInt)");if(Jt=null,r>=0?Gt=-(Vt=r):Vt=-(Gt=r)-1,Gt<ie||ne<Vt)throw G("TOML.parse(,,,useBigInt)")}if(null==s||!1===s)Rt=He,Pt=Wt=Ht=qt=!1,Tn=xn;else if(!0===s)Rt=qe,Wt=Pt=Ht=qt=!0,Tn=xn;else if("function"==typeof s){if(Rt=qe,Wt=Pt=Ht=qt=!0,!a)throw t("TOML.parse(,,,,tag) needs at least TOML 1.0 to support mixed type array");bn=s,Tn=mn}else{const{order:e,longer:n,exact:i,null:r,multi:l,comment:o,string:c,tag:u,...f}=s;if(te(f).length)throw t("TOML.parse(,,,,xOptions)");if(Rt=e?qe:He,Wt=!!n,Pt=!!i,Ht=!!r,qt=!!l,Yt=!!o,zt=!!c,u){if("function"!=typeof u)throw t("TOML.parse(,,,,xOptions.tag)");if(!a)throw t("TOML.parse(,,,,xOptions) xOptions.tag needs at least TOML 1.0 to support mixed type array");bn=u,Tn=mn}else Tn=xn}a?sn=an=ln=on=cn=un=fn=hn=dn=pn=gn=rn:({asNulls:sn,asStrings:an,asTables:ln,asArrays:on,asBooleans:cn,asFloats:un,asIntegers:fn,asOffsetDateTimes:hn,asLocalDateTimes:dn,asLocalDates:pn,asLocalTimes:gn}=nn)})(r,s,a,o),Y(n,f);try{n&&"\ufeff"===n[0]&&H(t("TOML content (string) should not start with BOM (U+FEFF)"+Z(" at "))),c=(()=>{const e=new Rt;let t=e;for(;W!==R;){const n=K[++W].replace(ze,"");if(n)if("["===n[0]){const{leadingKeys:i,finalKey:r,asArrayItem:s,tag:a,lineRest:o}=Ft(n,nr),c=Hi(e,i);o&&("#"===o[0]?Yt&&!s&&(c[Xi(r)]=o.slice(1)):H(l("Unexpect charachtor after table header"+Z(" at ")))),t=qi(c,r,s,a)}else if("#"===n[0])kt(n)&&H(l("Control characters other than Tab are not permitted in comments"+Z(", which was found at ")));else{const e=ar(t,n);let i=lr(e);"string"==typeof i||(i=On(i)),i&&("#"===i[0]?Yt&&(e.table[Xi(e.finalKey)]=i.slice(1)):H(l("Unexpect charachtor after key/value pair"+Z(" at "))))}}return e})(),u=(()=>{if(wn){let e=wn;const t=bn,n=yn;return yn=[],()=>{do{t(n[--e]),n.length=e}while(e)}}return null})()}finally{J()}}finally{bn=null,yn.length=wn=0,jt=!1,Zt=null}}finally{N()}}finally{pr=!1}return u?.(),c},br=n(((e,t,n,i,r)=>"number"==typeof t?gr(e,t,n,i,r):gr(e,1,t,n,i)),{"1.0":(e,t,n,i)=>gr(e,.1,t,n,i),1:(e,t,n,i)=>gr(e,1,t,n,i),.5:(e,t,n,i)=>gr(e,.5,t,n,i),.4:(e,t,n,i)=>gr(e,.4,t,n,i),.3:(e,t,n,i)=>gr(e,.3,t,n,i),.2:(e,t,n,i)=>gr(e,.2,t,n,i),.1:(e,t,n,i)=>gr(e,.1,t,n,i)}),yr=Object.getOwnPropertyNames,wr=Boolean,mr=String,xr=Number,Tr=new re,Sr=se.bind(Tr),Or=ae.bind(Tr),Ir=ue({...he([...m(32)].map(((e,t)=>[w(t),"\\u"+t.toString(16).toUpperCase().padStart(4,"0")]))),"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"','"""':'""\\"',"\\":"\\\\","":"\\u007F"}),vr=(()=>M(/[\x00-\x08\x0A-\x1F'\x7F]/).test)(),$r=/[^\x00-\x08\x0A-\x1F"\\\x7F]+|./gs,Fr=(()=>M(/^[\x00-\x08\x0A-\x1F"\\\x7F]/).test)(),Mr=e=>`'${e}'`,Lr=e=>{if(vr(e)){const t=e.match($r);let n=t.length;do{Fr(t[--n])&&(t[n]=Ir[t[n]])}while(n);return`"${t.join("")}"`}return`'${e}'`},kr=(()=>M(/[\x00-\x08\x0A-\x1F\x7F]|'''/).test)(),Ur=(()=>M(/[\x00-\x08\x0A-\x1F\\\x7F]|"""/).test)(),Ar=/[^\x00-\x08\x0A-\x1F"\\\x7F]+|"""|./gs,Br=(()=>M(/^(?:[\x00-\x08\x0A-\x1F\\\x7F]|""")/).test)(),Dr=(e,t)=>{const n=e[t];if(Ur(n)){const i=n.match(Ar);let r=i.length;do{Br(i[--r])&&(i[r]=Ir[i[r]])}while(r);e[t]=i.join("")}},Cr=e=>(1===(e=["",...e]).length&&(e[1]=""),e),jr=e=>{const t=e.length-1;let n=t;do{if(kr(e[n]))break}while(--n);if(n)for(n=t,Dr(e,n),e[n]+=e[0]='"""';--n;)Dr(e,n);else e[t]+=e[0]="'''";return Or(e),e},_r=(()=>M(/^-?\d+$/).test)(),Nr=(()=>M(/^[\w-]+$/).test)(),Er=e=>Nr(e)?e:Lr(e),Pr=/[^.]+/,Kr=e=>Dt(e)?e.replace(Pr,Mr):"null"===e?"'null'":e;class Rr extends m{document;constructor(e){return super(),this.document=e,this}[Symbol.toPrimitive](){return this.join(this.document.newline)}appendNewline(){this[this.length]=""}set appendLine(e){this[this.length]=e}set appendInline(e){this[this.length-1]+=e}set appendInlineIf(e){e&&(this[this.length-1]+=e)}*assignBlock(e,t,n,i){const{document:r}=this,{newlineUnderHeader:s,newlineUnderSectionButPair:a}=r,l=!!t&&r.newlineUnderPairButDotted,o=t?r.newlineUnderDotted:r.newlineUnderPair;for(const c of i){const i=n[c],u=Er(c),f=e+u;if(b(i)){if(i.length&&Ue(i[0])){const e=`[[${f}]]`,t=f+".";for(const n of i){const i=r.appendSection();i[0]=e,s?(i[1]="",yield i.assignBlock(t,"",n,yr(n)),a&&2!==i.length&&i.appendNewline()):(yield i.assignBlock(t,"",n,yr(n)),a&&i.appendNewline())}continue}}else if(Ue(i)){const e=r.appendSection();e[0]=`[${f}]${er(n,c)}`,s?(e[1]="",yield e.assignBlock(f+".","",i,yr(i)),a&&2!==e.length&&e.appendNewline()):(yield e.assignBlock(f+".","",i,yr(i)),a&&e.appendNewline());continue}const h=t+u;this.appendLine=Kr(h)+" = ";const d=this.value("",i,yr);d?(--this.length,yield this.assignBlock(f+".",h+".",i,d),l&&this.appendNewline()):(this.appendInlineIf=er(n,c),o&&this.appendNewline())}}value(e,n,r){switch(typeof n){case"object":if(null===n){if(this.document.nullDisabled)throw t('toml can not stringify "null" type value without truthy options.xNull');this.appendInline="null";break}if(Sr(n)){const{length:e}=n;this.appendInline=n[0];let t=1;for(;t!==e;)this.appendLine=n[t++];break}const s=Me(n);if(b(n)){s?this.singlelineArray(e,n):this.staticArray(e,n);break}if(s!==i){s||this.document.multilineTableDisabled?this.inlineTable(e,n):this.multilineTable(e,n,this.document.multilineTableComma);break}if(n instanceof Un){this.appendInline=this.document._?n.toISOString().replace("T"," "):n.toISOString();break}if(n instanceof mr)throw t("TOML.stringify refuse to handle [object String]");if(r){const e=r(n);if(e.length)return e;this.appendInline="{ }";break}if(n instanceof Li)throw t("TOML.stringify refuse to handle [object BigInt]");if(n instanceof xr)throw t("TOML.stringify refuse to handle [object Number]");if(n instanceof wr)throw t("TOML.stringify refuse to handle [object Boolean]");if(n instanceof Gi)throw t("TOML.stringify refuse to handle [object Symbol]");this.inlineTable(e,n);break;case"bigint":this.appendInline=""+n;break;case"number":this.appendInline=(e=>{return e?e===y?"inf":e===-1/0?"-inf":_r(t=""+e)?t+".0":t:e==e?fe(e,0)?"0.0":"-0.0":"nan";var t})(n);break;case"string":this.appendInline=Lr(n);break;case"boolean":this.appendInline=n?"true":"false";break;default:throw t(`toml can not stringify "${typeof n}" type value`)}return null}singlelineArray(e,t){const{length:n}=t;if(n){this.appendInline="[ ",this.value(e,t[0]);let i=1;for(;i!==n;)this.appendInline=", ",this.value(e,t[i++]);this.appendInline=" ]"}else this.appendInline="[ ]"}staticArray(e,t){this.appendInline="[";const n=e+this.document.indent;for(const i of t)this.appendLine=n,this.value(n,i),this.appendInline=",";this.appendLine=e+"]"}inlineTable(e,t){const n=yr(t);n.length?(this.appendInline="{ ",this.assignInline(e,t,"",n),this[this.length-1]=this[this.length-1].slice(0,-2)+" }"):this.appendInline="{ }"}multilineTable(e,t,n){this.appendInline="{",this.assignMultiline(e,t,"",yr(t),n),this.appendLine=e+"}"}assignInline(e,t,n,i){for(const r of i){const i=t[r],s=n+Er(r),a=this.appendInline=Kr(s)+" = ",l=this.value(e,i,yr);l?(this[this.length-1]=this[this.length-1].slice(0,-a.length),this.assignInline(e,i,s+".",l)):this.appendInline=", "}}assignMultiline(e,t,n,i,r){const s=e+this.document.indent;for(const a of i){const i=t[a],l=n+Er(a);this.appendLine=s+Kr(l)+" = ";const o=this.value(s,i,yr);o?(--this.length,this.assignMultiline(e,i,l+".",o,r)):r?this.appendInline=","+er(t,a):this.appendInlineIf=er(t,a)}}}const Wr=ue({document:0,section:1,header:2,pairs:3,pair:4}),Hr=(()=>M(/^[\t ]*$/).test)();class qr extends m{get["constructor"](){return m}0=new Rr(this);newline;newlineUnderSection;newlineUnderSectionButPair;newlineUnderHeader;newlineUnderPair;newlineUnderPairButDotted;newlineUnderDotted;indent;_;nullDisabled;multilineTableDisabled;multilineTableComma;constructor(e){super();const n=e?.newline;if(void 0!==n&&"\n"!==n&&"\r\n"!==n)throw"string"==typeof n?l("TOML.stringify(,{newline}) can only be valid TOML newline"):t("TOML.stringify(,{newline}) can only be string");this.newline=n??"";const i=Wr[e?.newlineAround??"header"]??Wr.header;this.newlineUnderSection=i>0,this.newlineUnderSectionButPair=1===i||2===i,this.newlineUnderHeader=i>1,this.newlineUnderPair=i>2,this.newlineUnderPairButDotted=3===i,this.newlineUnderDotted=i>3;const r=e?.indent;if(void 0===r)this.indent="\t";else if("string"==typeof r){if(!Hr(r))throw l("TOML.stringify(,{indent}) can only include Tab or Space");this.indent=r}else{if("number"!=typeof r)throw t(`TOML.stringify(,{indent}) can not be "${typeof r}" type`);if(!ee(r))throw G(`TOML.stringify(,{indent:${r}}) is out of range`);this.indent=" ".repeat(r)}this._=" "===e?.T,this.nullDisabled=!e?.xNull;const s=e?.xBeforeNewlineInMultilineTable;return""===s?(this.multilineTableDisabled=!1,this.multilineTableComma=!1):","===s?(this.multilineTableDisabled=!1,this.multilineTableComma=!0):(this.multilineTableDisabled=!0,this.multilineTableComma=!0),this}appendSection(){return this[this.length]=new Rr(this)}}return v({version:"1.20.0",parse:br,stringify:(e,t)=>{const n=new qr(t),i=n[0];return i[0]="",On(i.assignBlock("","",e,yr(e))),n.newlineUnderSectionButPair&&1!==i.length&&i.appendNewline(),n.newlineUnderSection||n[n.length-1].appendNewline(),n.newline?n.join(n.newline):n.flat()},Section:e=>{if(b(e))throw t("array can not be section, maybe you want to use it on the tables in it");return Ae(e),e},inline:e=>(Le(e,!0),e),multiline:(()=>{const e=e=>"string"==typeof e?jr(("\n"+e).split("\n")):b(e)?jr(Cr(e)):(e=>(Le(e,!1),e))(e);return e.basic=e=>(e=>{let t=e.length-1;for(Dr(e,t),e[t]+=e[0]='"""';--t;)Dr(e,t);return Or(e),e})("string"==typeof e?("\n"+e).split("\n"):Cr(e)),c(e),e})(),literal:(e,...t)=>{if("string"!=typeof e){let n=t.length;if(n){const{raw:i}=e;for(e=i[n];n;)t[--n]+=i[n];e=t.join("")+e}else e=e.raw[0]}const n=e.split("\n");return Or(n),n},commentFor:Xi,OffsetDateTime:li,LocalDateTime:hi,LocalDate:yi,LocalTime:Si,isInline:Fe,isSection:Ue})}));
//# sourceMappingURL=j-toml.min.js.map