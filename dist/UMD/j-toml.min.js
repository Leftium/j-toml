/*!@preserve@license
 * 模块名称：j-toml
 * 模块功能：龙腾道为汤小明语写的实现。从属于“简计划”。
   　　　　　An implementation of TOML written by LongTengDao. Belong to "Plan J".
 * 模块版本：1.25.0
 * 许可条款：LGPL-3.0
 * 所属作者：龙腾道 <LongTengDao@LongTengDao.com> (www.LongTengDao.com)
 * 问题反馈：https://GitHub.com/LongTengDao/j-toml/issues
 * 项目主页：https://GitHub.com/LongTengDao/j-toml/
 */
(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).TOML=t()})(this,(function(){"use strict";const e={if:Error}.if,t=TypeError,n=Object.assign,i=void 0,r=Function.prototype.bind,s=RegExp.prototype.test,l=RegExp.prototype.exec,a=SyntaxError,o=RegExp,c=Object.freeze,u=Reflect.apply,f=Proxy,h=Object.create,d=Object.seal?Object.preventExtensions(Object.create(null)):null,p="undefined"==typeof Symbol?i:Symbol.toStringTag,g=Object.defineProperty,b=Object,y=Array.isArray,w=1/0,m=Symbol.species,x=String.fromCharCode,T=Array,O=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var $={length:0},I=v.call.bind(v),F=b.hasOwn||function(){return O.bind?O.call.bind(O):function(e,t){return O.call(e,t)}}(),S=b.create;function L(e){var t=S(d);return F(e,"value")&&(t.value=e.value),F(e,"writable")&&(t.writable=e.writable),F(e,"get")&&(t.get=e.get),F(e,"set")&&(t.set=e.set),F(e,"enumerable")&&(t.enumerable=e.enumerable),F(e,"configurable")&&(t.configurable=e.configurable),t}const k=function(e,t){if(t||(t=e,e=h(d)),n)n(e,t);else for(var i in t)F(t,i)&&(e[i]=t[i]);if(e.default=e,p){var r=h(d);r.value="Module",g(e,p,r)}return"function"==typeof e&&e.prototype&&c(e.prototype),c(e)};var M=r?r.bind(s):function(e){return function(t){return s.call(e,t)}},U=r?r.bind(l):function(e){return function(t){return l.call(e,t)}};function A(e){var t=e.test=M(e),n=e.exec=U(e),i=t.source=n.source=e.source;return t.unicode=n.unicode=e.unicode,t.ignoreCase=n.ignoreCase=e.ignoreCase,t.multiline=n.multiline=i.indexOf("^")<0&&i.indexOf("$")<0?null:e.multiline,t.dotAll=n.dotAll=i.indexOf(".")<0?null:e.dotAll,e}function B(e){return A(e)}var D=/[\n\t]+/g,j=/\\./g;function C(e){return"\\`"===e?"`":e}var _="".includes?function(e,t){return e.includes(t)}:function(e,t){return e.indexOf(t)>-1};function E(e){for(var n=this.U,i=this.I,r=this.M,s=this.S,l=e.raw,c=l[0].replace(D,""),u=1,f=arguments.length;u!==f;){var h=arguments[u];if("string"==typeof h)c+=h;else{var d=h.source;if("string"!=typeof d)throw t("source");if(h.unicode===n)throw a("unicode");if(h.ignoreCase===i)throw a("ignoreCase");if(h.multiline===r&&(_(d,"^")||_(d,"$")))throw a("multiline");if(h.dotAll===s&&_(d,"."))throw a("dotAll");c+=d}c+=l[u++].replace(D,"")}var p=o(n?c=c.replace(j,C):c,this.flags),g=p.test=M(p),b=p.exec=U(p);return g.source=b.source=c,g.unicode=b.unicode=!n,g.ignoreCase=b.ignoreCase=!i,g.multiline=b.multiline=_(c,"^")||_(c,"$")?!r:null,g.dotAll=b.dotAll=_(c,".")?!s:null,p}var N=r&&r.bind(E);function P(e){return{U:!_(e,"u"),I:!_(e,"i"),M:!_(e,"m"),S:!_(e,"s"),flags:e}}var W=P(""),K=f?new f(E,{apply:function(e,t,n){return u(e,W,n)},get:function(e,t){return N(P(t))},defineProperty:function(){return!1},preventExtensions:function(){return!1}}):function(){E.apply=E.apply;for(var e=function(){return E.apply(W,arguments)},t=63;t--;)!function(t){e[t.flags]=function(){return E.apply(t,arguments)}}(P((1&t?"":"d")+(2&t?"":"g")+(4&t?"":"i")+(8&t?"":"m")+(8&t?"":"s")+(16&t?"":"u")+(32&t?"":"y")));return c?c(e):e}(),R="$_"in o?function(){var e=/^/;return e.test=e.test,function(t){return e.test(""),t}}():function(e){return e};const q=[];let H="",Y=q,J=-1,Z=-1;const z=e=>{throw e},V=/\r?\n/,G=(e,n)=>{if("string"!=typeof n)throw t("TOML.parse(,,,,sourcePath)");H=n,Y=e.split(V),J=Y.length-1,Z=-1};class X{lineIndex=Z;type;restColumn;constructor(e,t){return this.type=e,this.restColumn=t,this}must(){return Z===J&&z(a(`${this.type} is not close until the end of the file`+Q(", which started from ",this.lineIndex,Y[this.lineIndex].length-this.restColumn+1))),Y[++Z]}nowrap(){throw z(e("TOML.parse(,,multilineStringJoiner) must be passed, while the source including multi-line string"+Q(", which started from ",this.lineIndex,Y[this.lineIndex].length-this.restColumn+1)))}}const Q=(e,t=Z,n=0)=>Y===q?"":H?`\n    at (${H}:${t+1}:${n})`:`${e}line ${t+1}: ${Y[t]}`,ee=()=>{H="",Y=q},te=RangeError,ne=BigInt,ie=WeakMap,re=WeakMap.prototype.get,se=WeakMap.prototype.set,le=Number.isSafeInteger,ae=Object.getOwnPropertyNames,oe=WeakSet,ce=WeakSet.prototype.has,ue=WeakSet.prototype.add,fe=WeakSet.prototype.delete,he=Object.keys,de=Object.getOwnPropertySymbols,pe=function(){var e=Object.assign||function(e,t){var n,i,r;for(n=he(t),i=0;i<n.length;++i)e[r=n[i]]=t[r];if(de)for(n=de(t),i=0;i<n.length;++i)I(t,r=n[i])&&(e[r]=t[r]);return e};function t(e){return delete e.prototype.constructor,c(e.prototype),e}function n(n){return n===i?this:"function"==typeof n?t(n):e(S(d),n)}return delete n.name,n.prototype=null,c(n),n}(),ge=Object.is,be=Object.defineProperties,ye=Object.fromEntries,we=Reflect.construct,me=Reflect.defineProperty,xe=Reflect.deleteProperty,Te=Reflect.ownKeys,Oe=()=>{const e=new ie;return e.has=e.has,e.get=e.get,e.set=e.set,e},ve=Oe(),$e=Oe(),Ie=Oe(),Fe=n(h(d),{defineProperty:(e,t,i)=>{if(F(e,t))return me(e,t,n(h(d),i));if(me(e,t,n(h(d),i))){const n=ve.get(e);return n[n.length]=t,!0}return!1},deleteProperty:(e,t)=>{if(xe(e,t)){const n=ve.get(e),i=n.indexOf(t);return i<0||--n.copyWithin(i,i+1).length,!0}return!1},ownKeys:e=>ve.get(e),construct:(e,t,n)=>Le(we(e,t,n)),apply:(e,t,n)=>Le(u(e,t,n))}),Se=(e,t)=>{ve.set(e,t);const n=new f(e,Fe);return $e.set(n,e),n},Le=e=>{if($e.has(e))return e;let t=Ie.get(e);return t||(t=Se(e,n([],Te(e))),Ie.set(e,t),t)},ke=function(){function e(){throw t("Super constructor Null cannot be invoked with 'new'")}function i(){throw t("Super constructor Null cannot be invoked without 'new'")}const r=e=>(delete e.prototype.constructor,c(e.prototype),e);function s(t){return new.target?new.target===s?e():Se(this,[]):"function"==typeof t?r(t):i()}return s.prototype=null,g(s,"name",n(h(d),{value:"",configurable:!1})),c(s),s}(),Me=WeakMap.prototype.has,Ue=WeakMap.prototype.delete,Ae=new ie,Be=new oe,De=Ue.bind(Ae),je=fe.bind(Be),Ce=Me.bind(Ae),_e=re.bind(Ae),Ee=se.bind(Ae),Ne=ce.bind(Be),Pe=ue.bind(Be),We=new oe,Ke=ue.bind(We),Re=ce.bind(We),qe=new oe,He=ue.bind(qe),Ye=fe.bind(qe),Je=!0,Ze=!1,ze=new oe,Ve=ue.bind(ze),Ge=ce.bind(ze),Xe=pe(class extends pe{constructor(e,t){return super(),Ke(this),e?t?Ee(this,!0):Pe(this):(t?Ve:He)(this),this}}),Qe=pe(class extends ke{constructor(e,t){return super(),Ke(this),e?t?Ee(this,!0):Pe(this):(t?Ve:He)(this),this}}),et=/[ \t]/,tt=K`
	^${et}+`.valueOf(),{exec:nt}=K.s`
	^
	(
		(?:\d\d\d\d-\d\d-\d\d \d)?
		[\w\-+.:]+
	)
	${et}*
	(.*)
	$`.valueOf(),{exec:it}=K.s`
	^
	'([^']*)'
	${et}*
	(.*)`.valueOf(),{exec:rt}=K.s`
	^
	(.*?)
	'''('{0,2})
	${et}*
	(.*)`.valueOf(),{exec:st}=K.s`
	^
	(.*?)
	'''()
	${et}*
	(.*)`.valueOf();let lt=st;const at=K.s`
	^
	.
	${et}*`.valueOf(),ot=/[^\x00-\x1F"#'()<>[\\\]`{}\x7F]+/,{exec:ct}=K.s`
	^
	${et}*
	=
	${et}*
	(?:
		<(${ot})>
		${et}*
	)?
	(.*)
	$`.valueOf(),{exec:ut}=K.s`
	^
	<(${ot})>
	${et}*
	(.*)
	$`.valueOf(),{exec:ft}=K.s`
	^
	<(${ot})>
	${et}*
	(.*)
	$`.valueOf(),ht=B(/[^\\"]+|\\.?|"(?!"")"?/ys),dt=e=>{let t=0;for(;ht.test(e);)t=ht.lastIndex;return t},pt=/[^\\\x00-\x08\x0B-\x1F\x7F]+|\\(?:[btnfr"\\]|[\t ]*\n[\t\n ]*|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})/g,gt=/[^\\\x00-\x09\x0B-\x1F\x7F]+|\\(?:[btnfr"\\]|[\t ]*\n[\t\n ]*|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})/g,bt=/[^\\\x00-\x09\x0B-\x1F]+|\\(?:[btnfr"\\]|[\t ]*\n[\t\n ]*|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})/g,yt=/[^\\\x00-\x09\x0B-\x1F]+|\\(?:[btnfr"\\/]|[\t ]*\n[\t\n ]*|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})/g;let wt=pt;const mt=e=>!e.replace(wt,""),xt=B(/[^\\"\x00-\x08\x0B-\x1F\x7F]+|\\(?:[btnfr"\\]|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})/y),Tt=B(/[^\\"\x00-\x08\x0B-\x1F\x7F]+|\\(?:[btnfr"\\]|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})/y),Ot=B(/[^\\"\x00-\x08\x0B-\x1F]+|\\(?:[btnfr"\\]|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})/y),vt=B(/[^\\"\x00-\x08\x0B-\x1F]+|\\(?:[btnfr"\\/]|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})/y);let $t=vt;const It=e=>{let t=$t.lastIndex=1;for(;$t.test(e);)t=$t.lastIndex;return t!==e.length&&'"'===e[t]||z(a("Bad basic string"+Q(" at "))),t},{test:Ft}=B(/^[ \t]*\./),St=/^[ \t]*\.[ \t]*/,{exec:Lt}=B(/^[\w-]+/),{exec:kt}=B(/^[^ \t#=[\]'".]+(?:[ \t]+[^ \t#=[\]'".]+)*/);let Mt=kt;const{exec:Ut}=B(/^'[^'\x00-\x08\x0B-\x1F\x7F]*'/),{exec:At}=B(/^'[^'\x00-\x08\x0B-\x1F]*'/);let Bt=At,Dt=!0;const jt=(e,t)=>{const n="["===e[1];n?(Dt||z(a("Array of Tables is not allowed before TOML v0.2"+Q(", which at "))),e=e.slice(2)):e=e.slice(1),e=e.replace(tt,"");const{leadingKeys:i,finalKey:r}=({lineRest:e}=t(e));let s;return(e=e.replace(tt,""))&&"]"===e[0]||z(a("Table header is not closed"+Q(", which is found at "))),(e.length>1?"]"===e[1]===n:!n)||z(a("Square brackets of Table definition statement not match"+Q(" at "))),(e=e.slice(n?2:1).replace(tt,""))&&"<"===e[0]?({1:s,2:e}=ft(e)??z(a("Bad tag"+Q(" at ")))):s="",{leadingKeys:i,finalKey:r,asArrayItem:n,tag:s,lineRest:e}},{test:Ct}=B(/[\x00-\x08\x0B-\x1F\x7F]/),{test:_t}=B(/[\x00-\x08\x0B-\x1F]/);let Et=Ct;const Nt=K`
	(?:
		0
		(?:
			b[01][_01]*
		|
			o[0-7][_0-7]*
		|
			x[\dA-Fa-f][_\dA-Fa-f]*
		|
			(?:\.\d[_\d]*)?(?:[Ee]-?\d[_\d]*)?
		)
	|
		[1-9][_\d]*
		(?:\.\d[_\d]*)?(?:[Ee]-?\d[_\d]*)?
	|
		inf
	|
		nan
	)
`.valueOf(),{test:Pt}=K`
	^(?:
		-?${Nt}
		(?:-${Nt})*
	|
		true
	|
		false
	)$
`.valueOf(),{test:Wt}=K`_(?![\dA-Fa-f])`.valueOf(),Kt=e=>Pt(e)&&!Wt(e);let Rt,qt,Ht,Yt,Jt,Zt,zt,Vt,Gt,Xt,Qt,en,tn,nn=!0,rn=null,sn=!0,ln=0n,an=0n;const on=new ie,cn=re.bind(on),un=se.bind(on),fn=()=>{const e=n=>{const i=cn(n);return i?i===e||z(t("Types in Array must be same"+Q(". Check "))):un(n,e),n};return e},hn={asNulls:fn(),asStrings:fn(),asTables:fn(),asArrays:fn(),asBooleans:fn(),asFloats:fn(),asIntegers:fn(),asOffsetDateTimes:fn(),asLocalDateTimes:fn(),asLocalDates:fn(),asLocalTimes:fn()},dn=e=>e;let pn,gn,bn,yn,wn,mn,xn,Tn,On,vn,$n,In=null,Fn=[],Sn=0;const Ln=(e,t,n,i)=>{const r=h(d);r.tag=e,n&&(r.table=n,r.key=i),t&&(r.array=t,r.index=t.length),Fn[Sn++]=r},kn=()=>{throw z(a("xOptions.tag is not enabled, but found tag syntax"+Q(" at ")))};let Mn=kn;const Un=Symbol,An=Un("previous"),Bn=e=>{let t=e,n=t.next();if(!n.done)for(n.value[An]=t,n=(t=n.value).next();;)if(n.done){if(t===e)break;t=t[An],n=t.next(n.value)}else n.value[An]=t,n=(t=n.value).next();return n.value},Dn=Un("_literal"),jn=(e,t)=>{const n=b(t);return n[Dn]=e,n},Cn=new oe,_n=ue.bind(Cn),En=ce.bind(Cn),Nn=new oe,Pn=ue.bind(Nn),Wn=ce.bind(Nn),Kn=e=>{const t=[];return _n(t),e&&Pn(t),t},Rn=Date,qn=Date.parse,Hn=Object.preventExtensions,Yn=Object.getOwnPropertyDescriptors,Jn=function(e,t){for(var n=h(d),i=he(t),r=i.length,s=0;s<r;++s){var l=i[s];n[l]=L(t[l])}if(de){var a=de(t);for(r=a.length,s=0;s<r;++s){var o=a[s];I(t,o)&&(n[o]=L(t[o]))}}return be(e,n)},Zn=e=>(c(c(e).prototype),e),zn=/(?:0[1-9]|[12]\d|30)/,Vn=/(?:0[1-9]|[12]\d|3[01])/,Gn=/(?:[01]\d|2[0-3])/,Xn=/[0-5]\d/,Qn=K`
	\d\d\d\d-
	(?:
		0
		(?:
			[13578]-${Vn}
			|
			[469]-${zn}
			|
			2-${/(?:0[1-9]|1\d|2\d)/}
		)
		|
		1
		(?:
			[02]-${Vn}
			|
			1-${zn}
		)
	)
`.valueOf(),ei=K`
	${Gn}:${Xn}:${Xn}
`.valueOf(),{exec:ti}=B(/(([+-])\d\d):(\d\d)$/),{exec:ni}=K`
	^
	${Qn}
	[T ]
	${ei}
	(?:\.\d{1,3}(\d*?)0*)?
	(?:Z|[+-]${Gn}:${Xn})
	$`.valueOf(),{exec:ii}=K`
	^
	${Qn}
	[T ]
	${ei}
	()
	Z
	$`.valueOf(),{test:ri}=K`
	^
	${Qn}
	[T ]
	${ei}
	(?:\.\d+)?
	$`.valueOf(),{test:si}=K`
	^
	${Qn}
	$`.valueOf(),{test:li}=K`
	^
	${ei}
	(?:\.\d+)?
	$`.valueOf(),ai=/\.?0+$/,oi=/[-T:.]/g,ci=/\.(\d*?)0+$/,ui=(e,t)=>t,fi=(()=>{const e=function(){return this},t=pe(null);{const e=pe(null);for(const n of Te(Rn.prototype))"constructor"===n||"toJSON"===n||(t[n]=e)}return e.prototype=Hn(h(Rn.prototype,t)),c(e)})(),hi=e=>e.replace(ci,ui).replace(oi,""),di=e=>"02-29"!==e.slice(5,10)||+e.slice(0,4)%4==0&&"00"!==e.slice(2,4),pi=Jn(new Rn(0),Yn(Rn.prototype)),gi=Un("OffsetDateTime_ISOString"),bi=Un("OffsetDateTime_value"),yi=(e,t=0)=>(pi.setTime(+e[bi]+t),pi),wi=Zn(class extends fi{[gi];[bi];valueOf(){return this[bi]}toISOString(){return this[gi]}constructor(e){const{1:t}=di(e)&&(qt?ii:ni)(e)||z(a(`Invalid Offset Date-Time ${e}`+Q(" at ")));return super(),this[gi]=e.replace(" ","T"),this[bi]=(""+qn(this[gi])).padStart(15,"0")+(t?"."+t:""),this}getUTCFullYear(){return yi(this).getUTCFullYear()}getUTCMonth(){return yi(this).getUTCMonth()}getUTCDate(){return yi(this).getUTCDate()}getUTCHours(){return yi(this).getUTCHours()}getUTCMinutes(){return yi(this).getUTCMinutes()}getUTCSeconds(){return yi(this).getUTCSeconds()}getUTCMilliseconds(){return yi(this).getUTCMilliseconds()}getUTCDay(){return yi(this).getUTCDay()}getTimezoneOffset(){const e=ti(this[gi]);return e?60*+e[1]+ +(e[2]+e[3]):0}getTime(){return+this[bi].slice(0,15)}}),mi=Un("LocalDateTime_ISOString"),xi=Un("LocalDateTime_value"),Ti=(e,t,n)=>+e[mi].slice(t,n),Oi=(e,t,n,i)=>{const r=""+i,s=n-t;if(r.length>s)throw te();e[xi]=hi(e[mi]=e[mi].slice(0,t)+r.padStart(s,"0")+e[mi].slice(n))},vi=Zn(class extends fi{[mi];[xi];valueOf(){return this[xi]}toISOString(){return this[mi]}constructor(e){return ri(e)&&di(e)||z(a(`Invalid Local Date-Time ${e}`+Q(" at "))),super(),this[xi]=hi(this[mi]=e.replace(" ","T")),this}getFullYear(){return Ti(this,0,4)}setFullYear(e){Oi(this,0,4,e)}getMonth(){return Ti(this,5,7)-1}setMonth(e){Oi(this,5,7,e+1)}getDate(){return Ti(this,8,10)}setDate(e){Oi(this,8,10,e)}getHours(){return Ti(this,11,13)}setHours(e){Oi(this,11,13,e)}getMinutes(){return Ti(this,14,16)}setMinutes(e){Oi(this,14,16,e)}getSeconds(){return Ti(this,17,19)}setSeconds(e){Oi(this,17,19,e)}getMilliseconds(){return+this[xi].slice(14,17).padEnd(3,"0")}setMilliseconds(e){this[xi]=hi(this[mi]=this[mi].slice(0,19)+(e?("."+(""+e).padStart(3,"0")).replace(ai,""):""))}}),$i=Un("LocalDate_ISOString"),Ii=Un("LocalDate_value"),Fi=(e,t,n)=>+e[$i].slice(t,n),Si=(e,t,n,i)=>{const r=""+i,s=n-t;if(r.length>s)throw te();e[Ii]=hi(e[$i]=e[$i].slice(0,t)+r.padStart(s,"0")+e[$i].slice(n))},Li=Zn(class extends fi{[$i];[Ii];valueOf(){return this[Ii]}toISOString(){return this[$i]}constructor(e){return si(e)&&di(e)||z(a(`Invalid Local Date ${e}`+Q(" at "))),super(),this[Ii]=hi(this[$i]=e),this}getFullYear(){return Fi(this,0,4)}setFullYear(e){Si(this,0,4,e)}getMonth(){return Fi(this,5,7)-1}setMonth(e){Si(this,5,7,e+1)}getDate(){return Fi(this,8,10)}setDate(e){Si(this,8,10,e)}}),ki=Un("LocalTime_ISOString"),Mi=Un("LocalTime_value"),Ui=(e,t,n)=>+e[ki].slice(t,n),Ai=(e,t,n,i)=>{const r=""+i;if(r.length>n-t)throw te();e[Mi]=hi(e[ki]=e[ki].slice(0,t)+r.padStart(2,"0")+e[ki].slice(n))},Bi=Zn(class extends fi{[ki];[Mi];valueOf(){return this[Mi]}toISOString(){return this[ki]}constructor(e){return li(e)||z(a(`Invalid Local Time ${e}`+Q(" at "))),super(),this[Mi]=hi(this[ki]=e),this}getHours(){return Ui(this,0,2)}setHours(e){Ai(this,0,2,e)}getMinutes(){return Ui(this,3,5)}setMinutes(e){Ai(this,3,5,e)}getSeconds(){return Ui(this,6,8)}setSeconds(e){Ai(this,6,8,e)}getMilliseconds(){return+this[Mi].slice(6,9).padEnd(3,"0")}setMilliseconds(e){this[Mi]=hi(this[ki]=this[ki].slice(0,8)+(e?("."+(""+e).padStart(3,"0")).replace(ai,""):""))}}),Di=parseInt,ji=String.fromCodePoint,Ci=/[^\\]+|\\(?:[\\"btnfr/]|u.{4}|U.{8})/gs,_i=/[^\n\\]+|\n|\\(?:[\t ]*\n[\t\n ]*|[\\"btnfr/]|u.{4}|U.{8})/gs,Ei=e=>{if(!e)return"";const t=e.match(Ci),{length:n}=t;let i=0;do{const e=t[i];if("\\"===e[0])switch(e[1]){case"\\":t[i]="\\";break;case'"':t[i]='"';break;case"b":t[i]="\b";break;case"t":t[i]="\t";break;case"n":t[i]="\n";break;case"f":t[i]="\f";break;case"r":t[i]="\r";break;case"u":const n=Di(e.slice(2),16);nn&&55295<n&&n<57344&&z(te(`Invalid Unicode Scalar ${e}`+Q(" at "))),t[i]=x(n);break;case"U":const r=Di(e.slice(2),16);(nn&&55295<r&&r<57344||1114111<r)&&z(te(`Invalid Unicode Scalar ${e}`+Q(" at "))),t[i]=ji(r);break;case"/":t[i]="/"}}while(++i!==n);return t.join("")},Ni=(e,t,n)=>{if(!e)return"";const i=e.match(_i),{length:r}=i;let s=0;do{const e=i[s];if("\n"===e)++n,i[s]=t;else if("\\"===e[0])switch(e[1]){case"\n":case" ":case"\t":for(let i=0;i=e.indexOf("\n",i)+1;)++n;i[s]="";break;case"\\":i[s]="\\";break;case'"':i[s]='"';break;case"b":i[s]="\b";break;case"t":i[s]="\t";break;case"n":i[s]="\n";break;case"f":i[s]="\f";break;case"r":i[s]="\r";break;case"u":const t=Di(e.slice(2),16);nn&&55295<t&&t<57344&&z(te(`Invalid Unicode Scalar ${e}`+Q(" at ",Z+n))),i[s]=x(t);break;case"U":const r=Di(e.slice(2),16);(nn&&55295<r&&r<57344||1114111<r)&&z(te(`Invalid Unicode Scalar ${e}`+Q(" at ",Z+n))),i[s]=ji(r);break;case"/":i[s]="/"}}while(++s!==r);return i.join("")},Pi=Number,Wi=/[-+]?(?:0|[1-9][_\d]*)/,{test:Ki}=K`_(?!\d)`.valueOf(),{test:Ri}=K`^${Wi}$`.valueOf(),{test:qi}=B(/^0(?:x[\dA-Fa-f][_\dA-Fa-f]*|o[0-7][_0-7]*|b[01][_01]*)$/),{test:Hi}=K`_(?![\dA-Fa-f])`.valueOf(),Yi=/_|^[-+]/g,Ji=e=>(Ri(e)||qi(e))&&!Hi(e),Zi=e=>{Ji(e)||z(a(`Invalid Integer ${e}`+Q(" at ")));const t="-"===e[0]?-ne(e.replace(Yi,"")):ne(e.replace(Yi,""));return Gt||-9223372036854775808n<=t&&t<=9223372036854775807n||z(te(`Integer expect 64 bit range (-9,223,372,036,854,775,808 to 9,223,372,036,854,775,807), not includes ${e}`+Q(" meet at "))),t},zi=e=>{if(!0===sn)return Zi(e);if(!1===sn)return(e=>{Ji(e)||z(a(`Invalid Integer ${e}`+Q(" at ")));const t="-"===e[0]?-e.replace(Yi,""):+e.replace(Yi,"");return le(t)||z(te(`Integer did not use BitInt must fit Number.isSafeInteger, not includes ${e}`+Q(" meet at "))),t})(e);const t=Zi(e);return ln<=t&&t<=an?Pi(t):t},Vi=isFinite,{test:Gi}=K`
	^
	${Wi}
	(?:
		\.\d[_\d]*
		(?:[eE][-+]?\d[_\d]*)?
	|
		[eE][-+]?\d[_\d]*
	)
	$`.valueOf(),Xi=/_/g,{test:Qi}=B(/^[-+]?0(?:\.0+)?(?:[eE][-+]?0+)?$/),{exec:er}=B(/^[-0]?(\d*)(?:\.(\d+))?(?:e\+?(-?\d+))?$/),{exec:tr}=B(/^[-+]?0?(\d*)(?:\.(\d*?)0*)?(?:[eE]\+?(-?\d+))?$/),nr=e=>{if(!Gi(e)||Ki(e)){if(zt){if("inf"===e||"+inf"===e)return w;if("-inf"===e)return-1/0;if("nan"===e||"+nan"===e||"-nan"===e)return NaN}throw z(a(`Invalid Float ${e}`+Q(" at ")))}const t=e.replace(Xi,""),n=+t;if(Zt){Vi(n)||z(te(`Float ${e} has been as big as inf`+Q(" at "))),n||Qi(t)||z(te(`Float ${e} has been as little as ${"-"===e[0]?"-":""}0`+Q(" at ")));const{1:i,2:r="",3:s=""}=er(n),{1:l,2:a="",3:o=""}=tr(t);l+a===i+r&&o-a.length==s-r.length||z(te(`Float ${e} has lost its exact and been ${n}`+Q(" at ")))}return n},ir=(t,n)=>{const{length:i}=n;let r=0;for(;r<i;){const s=n[r++];if(!(s in t)){for(t=t[s]=new Vt(Ze);r<i;)t=t[n[r++]]=new Vt(Ze);return t}if(Re(t=t[s]))Ce(t)&&z(e("Trying to define Table under Inline Table"+Q(" at ")));else{if(!En(t))throw z(e("Trying to define Table under non-Table value"+Q(" at ")));Wn(t)&&z(e("Trying to append value to Static Array"+Q(" at "))),t=t[t.length-1]}}return t},rr=(t,n,i,r)=>{let s;if(i){let i;n in t?En(i=t[n])&&!Wn(i)||z(e("Trying to push Table to non-ArrayOfTables value"+Q(" at "))):i=t[n]=Kn(!1),r&&Mn(r,i,t,n),i[i.length]=s=new Vt(Je)}else n in t?(s=t[n],(e=>!!Ye(e)&&(Pe(e),!0))(s)||z(e("Duplicate Table definition"+Q(" at "))),Ge(s)&&z(e("A table defined implicitly via key/value pair can not be accessed to via []"+Q(", which at ")))):t[n]=s=new Vt(Je),r&&Mn(r,null,t,n);return s},sr=(t,n)=>{const{length:i}=n;let r=0;for(;r<i;){const s=n[r++];if(!(s in t)){for(t=t[s]=new Vt(Ze,!0);r<i;)t=t[n[r++]]=new Vt(Ze,!0);return t}Re(t=t[s])||z(e("Trying to assign property through non-Table value"+Q(" at "))),Ce(t)&&z(e("Trying to assign property through static Inline Table"+Q(" at "))),Ge(t)||z(e("A table defined implicitly via [] can not be accessed to via key/value pair"+Q(", which at ")))}return t},lr=e=>(Et(e)&&z(a("Control characters other than Tab are not permitted in a Literal String"+Q(", which was found at "))),e),ar=(e,t,n)=>{if(!n.startsWith("'''")){const i=it(n)??z(a("Bad literal string"+Q(" at "))),r=lr(i[1]);return e[t]=Rt?jn(n.slice(0,r.length+2),r):r,i[2]}const i=lt(n.slice(3));if(i){const r=lr(i[1])+i[2];return e[t]=Rt?jn(n.slice(0,r.length+6),r):r,i[3]}const r=new X("Multi-line Literal String",n.length),s=!(n=n.slice(3));if(s){n=r.must();const i=lt(n);if(i){const r=lr(i[1])+i[2];return e[t]=Rt?jn(["'''",n.slice(0,r.length+3)],r):r,i[3]}}rn??r.nowrap();for(const l=[lr(n)];;){const i=r.must(),a=lt(i);if(a){l[l.length]=lr(a[1])+a[2];const i=l.join(rn);return Rt?(l[l.length-1]+="'''",s?l.unshift("'''"):l[0]=`'''${n}`,e[t]=jn(l,i)):e[t]=i,a[3]}l[l.length]=lr(i)}},or=(e,t,n)=>{if(!n.startsWith('"""')){const i=It(n),r=Ei(n.slice(1,i));return e[t]=Rt?jn(n.slice(0,i+1),r):r,n.slice(i+1).replace(tt,"")}let i=3+dt(n.slice(3));if(n.length!==i){const r=n.slice(3,i);mt(r)||z(a("Bad multi-line basic string"+Q(" at ")));const s=Ei(r)+(n.startsWith('"',i+=3)?n.startsWith('"',++i)?(++i,'""'):'"':"");return e[t]=Rt?jn(n.slice(0,i),s):s,n.slice(i).replace(tt,"")}const r=new X("Multi-line Basic String",i),s=(n=n.slice(3))?0:1;if(s){n=r.must();let i=dt(n);if(n.length!==i){const r=n.slice(0,i);mt(r)||z(a("Bad multi-line basic string"+Q(" at ")));const l=Ni(r,rn,s)+(n.startsWith('"',i+=3)?n.startsWith('"',++i)?(++i,'""'):'"':"");return e[t]=Rt?jn(['"""',n.slice(0,i)],l):l,n.slice(i).replace(tt,"")}}rn??r.nowrap(),mt(n+"\n")||z(a("Bad multi-line basic string"+Q(" at ")));for(const l=[n];;){const i=r.must();let o=dt(i);if(i.length!==o){const r=i.slice(0,o);mt(r)||z(a("Bad multi-line basic string"+Q(" at ")));const c=Ni(l.join("\n")+"\n"+r,rn,s)+(i.startsWith('"',o+=3)?i.startsWith('"',++o)?(++o,'""'):'"':"");return Rt?(s?l.unshift('"""'):l[0]=`"""${n}`,l[l.length]=`${r}"""`,e[t]=jn(l,c)):e[t]=c,i.slice(o).replace(tt,"")}mt(i+"\n")||z(a("Bad multi-line basic string"+Q(" at "))),l[l.length]=i}},cr=pe(null),ur=e=>cr[e]??=Un(e),fr=Un("this"),{test:hr}=B(/\r?\n/g),dr=(e,n)=>{if(n in e){const i=e[n];if("string"!=typeof i)throw t(`the value of comment must be a string, while "${null===i?"null":typeof i}" type is found`);if(hr(i))throw a("the value of comment must be a string and can not include newline");return` #${i}`}return""},pr=(e,t)=>t in cr?dr(e,cr[t]):"",{test:gr}=B(/(?:Z|[+-]\d\d:\d\d)$/),br=e=>{let t=e;const n=[];let i=-1;for(;;){if(t||z(a("Empty bare key"+Q(" at "))),'"'===t[0]){const e=It(t);n[++i]=Ei(t.slice(1,e)),t=t.slice(e+1)}else{const e="'"===t[0],r=((e?Bt:Mt)(t)??z(a(`Bad ${e?"literal string":"bare"} key`+Q(" at "))))[0];t=t.slice(r.length),n[++i]=e?r.slice(1,-1):r}if(!Ft(t))break;t=t.replace(St,"")}if(tn){const n=e.slice(0,-t.length);(Kt(n)||Xt&&"null"===n)&&z(a("Bad bare key disabled by xOptions.string"+Q(" at ")))}if(Jt){let e=i;do{n[e]||z(a("Empty key is not allowed before TOML v0.5"+Q(", which at ")))}while(e--)}const r=n[i];return n.length=i,{leadingKeys:n,finalKey:r,lineRest:t}},yr=(e,t)=>{if("<"===t[0]){const{1:n}=({2:t}=ut(t)??z(a("Bad tag "+Q(" at "))));switch(Mn(n,e,null),t&&t[0]){case",":case"]":case"":case"#":return e[e.length]=i,t}}switch(t[0]){case"'":return ar(gn(e),e.length,t);case'"':return or(gn(e),e.length,t);case"{":return Ht||z(a("Inline Table is not allowed before TOML v0.4"+Q(", which at "))),mr(bn(e),e.length,t);case"[":return wr(yn(e),e.length,t)}const{1:n}=({2:t}=nt(t)??z(a("Bad atom value"+Q(" at "))));return"true"===n?wn(e)[e.length]=!0:"false"===n?wn(e)[e.length]=!1:Xt&&"null"===n?pn(e)[e.length]=null:n.includes(":")?n.includes("-")?gr(n)?Tn(e)[e.length]=new wi(n):(Yt||z(a("Local Date-Time is not allowed before TOML v0.5"+Q(", which at "))),On(e)[e.length]=new vi(n)):(Yt||z(a("Local Time is not allowed before TOML v0.5"+Q(", which at "))),$n(e)[e.length]=new Bi(n)):n.indexOf("-")!==n.lastIndexOf("-")&&"-"!==n[0]?(Yt||z(a("Local Date is not allowed before TOML v0.5"+Q(", which at "))),vn(e)[e.length]=new Li(n)):n.includes(".")||n.includes("n")||(n.includes("e")||n.includes("E"))&&!n.startsWith("0x")?mn(e)[e.length]=Rt?jn(n,nr(n)):nr(n):xn(e)[e.length]=Rt?jn(n,zi(n)):zi(n),t},wr=function*(e,t,n){const i=e[t]=Kn(!0),r=new X("Static Array",n.length);n=n.replace(at,"");let s=!0;for(;!n||"#"===n[0];)s=!1,n=r.must().replace(tt,"");if("]"===n[0])return s&&Ee(i,!0),n.replace(at,"");for(;;){const e=yr(i,n);for(n="string"==typeof e?e:yield e;!n||"#"===n[0];)s=!1,n=r.must().replace(tt,"");if(","!==n[0]){if("]"===n[0])break;throw z(a("Unexpect character in static array item value"+Q(", which is found at ")))}for(n=n.replace(at,"");!n||"#"===n[0];)s=!1,n=r.must().replace(tt,"");if("]"===n[0])break}return s&&Ee(i,!0),n.replace(at,"")},mr=function*(e,t,n){const i=e[t]=new Vt(Je,!0);if(Qt){const e=new X("Inline Table",n.length);n=n.replace(at,"");let t=!0;for(;;){for(;!n||"#"===n[0];)t=!1,n=e.must().replace(tt,"");if("}"===n[0])break;const r=xr(i,n),s=Tr(r);if(n="string"==typeof s?s:yield s){if("#"===n[0]){en&&(r.table[ur(r.finalKey)]=n.slice(1)),t=!1;do{n=e.must().replace(tt,"")}while(!n||"#"===n[0])}}else{t=!1;do{n=e.must().replace(tt,"")}while(!n||"#"===n[0])}","===n[0]&&(n=n.replace(at,""))}t||Ee(i,!1)}else if("}"!==(n=n.replace(at,"")||z(a("Inline Table is intended to appear on a single line"+Q(", which broken at "))))[0])for(;;){"#"===n[0]&&z(a("Inline Table is intended to appear on a single line"+Q(", which broken at ")));const e=Tr(xr(i,n));if("}"===(n=("string"==typeof e?e:yield e)||z(a("Inline Table is intended to appear on a single line"+Q(", which broken at "))))[0])break;","===n[0]&&"}"===(n=n.replace(at,"")||z(a("Inline Table is intended to appear on a single line"+Q(", which broken at "))))[0]&&z(a("The last property of an Inline Table can not have a trailing comma"+Q(", which was found at ")))}return n.replace(at,"")},xr=(e,t)=>{const{leadingKeys:n,finalKey:i,tag:r}=({lineRest:t}=(({leadingKeys:e,finalKey:t,lineRest:n})=>{const{1:i=""}=({2:n}=ct(n)??z(a("Keys must equal something"+Q(", but missing at "))));return i||n&&"#"!==n[0]||z(a("Value can not be missing after euqal sign"+Q(", which is found at "))),{leadingKeys:e,finalKey:t,tag:i,lineRest:n}})(br(t)));return{table:sr(e,n),finalKey:i,tag:r,lineRest:t}},Tr=({finalKey:t,tag:n,lineRest:r,table:s})=>{if(t in s&&z(e("Duplicate property definition"+Q(" at "))),n)switch(Mn(n,null,s,t),r&&r[0]){case",":case"}":case"":case"#":return s[t]=i,r}switch(r&&r[0]){case"'":return ar(s,t,r);case'"':return or(s,t,r);case"{":return Ht||z(a("Inline Table is not allowed before TOML v0.4"+Q(", which at "))),mr(s,t,r);case"[":return wr(s,t,r)}const{1:l}=({2:r}=nt(r)??z(a("Bad atom value"+Q(" at "))));return"true"===l?s[t]=!0:"false"===l?s[t]=!1:Xt&&"null"===l?s[t]=null:l.includes(":")?l.includes("-")?gr(l)?s[t]=new wi(l):(Yt||z(a("Local Date-Time is not allowed before TOML v0.5"+Q(", which at "))),s[t]=new vi(l)):(Yt||z(a("Local Time is not allowed before TOML v0.5"+Q(", which at "))),s[t]=new Bi(l)):l.indexOf("-")!==l.lastIndexOf("-")&&"-"!==l[0]?(Yt||z(a("Local Date is not allowed before TOML v0.5"+Q(", which at "))),s[t]=new Li(l)):s[t]=l.includes(".")||l.includes("n")||(l.includes("e")||l.includes("E"))&&!l.startsWith("0x")?Rt?jn(l,nr(l)):nr(l):Rt?jn(l,zi(l)):zi(l),r},Or=Uint8Array,vr="undefined"==typeof Buffer?i:Buffer,$r=e=>"byteLength"in e,Ir="A TOML doc must be a (ful-scalar) valid UTF-8 file, without any unknown code point.",Fr=vr?(({isBuffer:t,[m]:n,byteLength:i,allocUnsafe:r,from:s})=>{if("function"==typeof vr.prototype.utf8Write){const l=vr.alloc(7);if(l.utf8Write("𠮷利",0,7),l.equals(s("𠮷利")))return s=>{if(!s.byteLength)return"";const l=t(s)?s:"length"in s?new n(s.buffer,s.byteOffset,s.byteLength):new n(s),a=l.toString();if(a.includes("�")){const t=i(a);if(t!==l.length)throw e(Ir);const n=r(t);if(n.utf8Write(a,0,t),!n.equals(l))throw e(Ir)}return"\ufeff"===a[0]?a.slice(1):a}}return i=>{if(!i.byteLength)return"";const r=t(i)?i:"length"in i?new n(i.buffer,i.byteOffset,i.byteLength):new n(i),l=r.toString();if(l.includes("�")&&!s(l).equals(r))throw e(Ir);return"\ufeff"===l[0]?l.slice(1):l}})(vr):t=>{if(!t.byteLength)return"";const n="length"in t?t:new Or(t),{length:i}=n,r=i-1,s=r-1,l=s-1,a=[];let o=0,c=0;do{let t=n[c];if(t<192){if(t<128){a[o++]=x(t),c+=1;continue}}else if(t<224){if(c<r){const e=n[c+1];if(128==(192&e)&&(t=(31&t)<<6|63&e,127<t)){a[o++]=x(t),c+=2;continue}}}else if(t<240){if(c<s){const e=n[c+1],i=n[c+2];if(128==(192&e)&&128==(192&i)&&(t=(15&t)<<12|(63&e)<<6|63&i,(t<55296?2047:57343)<t)){a[o++]=x(t),c+=3;continue}}}else if(c<l){const e=n[c+1],i=n[c+2],r=n[c+3];if(128==(192&e)&&128==(192&i)&&128==(192&r)&&(t=(15&t)<<18|(63&e)<<12|(63&i)<<6|63&r,65535<t&&t<1114112)){a[o++]=ji(t),c+=4;continue}}throw e(Ir)}while(c!==i);const u=a.join("");return"\ufeff"===u[0]?u.slice(1):u},{test:Sr}=B(/[\uD800-\uDFFF]/u);let Lr=!1;const kr=(n,r,s,l,o)=>{if(Lr)throw e("parse during parsing.");let c,u;Lr=!0;try{let f="";if("object"==typeof n&&n)if($r(n))n=Fr(n);else{if(f=n.path,"string"!=typeof f)throw t("TOML.parse(source.path)");const{data:e,require:r=("function"==typeof require?require:i)}=n;if(r){const s=r.resolve?.paths?.("")?.[0]?.replace(/node_modules$/,"");if(s&&(f=r("path").resolve(s,f),"string"!=typeof f))throw t("TOML.parse(source.require('path').resolve)");if(e===i){const e=r("fs").readFileSync(f);if("object"!=typeof e||!e||!$r(e))throw t("TOML.parse(source.require('fs').readFileSync)");n=Fr(e)}else if("string"==typeof e)n=e;else{if("object"!=typeof e||!e||!$r(e))throw t("TOML.parse(source.data)");n=Fr(e)}}else{if(e===i)throw t("TOML.parse(source.data|source.require)");if("string"==typeof e)n=e;else{if("object"!=typeof e||!e||!$r(e))throw t("TOML.parse(source.data)");n=Fr(e)}}}else if("string"!=typeof n)throw t("TOML.parse(source)");try{if(Sr(n))throw e("A TOML doc must be a (ful-scalar) valid UTF-8 file, without any uncoupled UCS-4 character code.");if("object"==typeof s&&s){if(l!==i||o!==i)throw t("options mode ? args mode");({joiner:s,bigint:l,x:o}=s)}try{((e,n,r,s)=>{let l;switch(e){case 1:nn=l=Yt=zt=Ht=!0,qt=Jt=!1;break;case.5:nn=Yt=zt=Ht=!0,l=qt=Jt=!1;break;case.4:nn=Jt=Ht=!0,l=qt=Yt=zt=!1;break;case.3:nn=Jt=!0,l=qt=Yt=zt=Ht=!1;break;case.2:case.1:qt=Jt=!0,nn=l=Yt=zt=Ht=!1;break;default:throw te("TOML.parse(,specificationVersion)")}if((e=>{switch(e){case 1:lt=rt,Bt=Ut,Et=Ct,wt=pt,$t=xt,Mt=Lt,Dt=!0;break;case.5:lt=st,Bt=Ut,Et=Ct,wt=gt,$t=Tt,Mt=Lt,Dt=!0;break;case.4:lt=st,Bt=At,Et=_t,wt=bt,$t=Ot,Mt=Lt,Dt=!0;break;default:lt=st,Bt=At,Et=_t,wt=yt,$t=vt,Mt=kt,Dt=!1}})(e),"string"==typeof n)rn=n;else{if(n!==i)throw t("TOML.parse(,,multilineStringJoiner)");rn=null}if(r===i||!0===r)sn=!0;else if(!1===r)sn=!1;else{if("number"!=typeof r)throw t("TOML.parse(,,,useBigInt)");if(!le(r))throw te("TOML.parse(,,,useBigInt)");sn=null,r>=0?ln=-(an=ne(r)):an=-(ln=ne(r))-1n}if(null==s)Vt=Xe,Zt=Gt=Xt=Qt=!1,Mn=kn;else{if("object"!=typeof s)throw t("TOML.parse(,,,"+typeof s);{const{order:e,longer:n,exact:i,null:r,multi:a,comment:o,string:c,literal:u,tag:f,...h}=s,d=ae(h);if(d.length)throw t(`TOML.parse(,,,,{ ${d.join(", ")} })`);if(Vt=e?Qe:Xe,Gt=!n,Zt=!!i,Xt=!!r,Qt=!!a,en=!!o,tn=!!c,Rt=!!u,f){if("function"!=typeof f)throw t("TOML.parse(,,,,xOptions.tag)");if(!l)throw t("TOML.parse(,,,,xOptions) xOptions.tag needs at least TOML 1.0 to support mixed type array");In=f,Mn=Ln}else Mn=kn}}l?pn=gn=bn=yn=wn=mn=xn=Tn=On=vn=$n=dn:({asNulls:pn,asStrings:gn,asTables:bn,asArrays:yn,asBooleans:wn,asFloats:mn,asIntegers:xn,asOffsetDateTimes:Tn,asLocalDateTimes:On,asLocalDates:vn,asLocalTimes:$n}=hn)})(r,s,l,o),G(n,f);try{n&&"\ufeff"===n[0]&&z(t("TOML content (string) should not start with BOM (U+FEFF)"+Q(" at "))),c=(()=>{const e=new Vt;let t=e;for(;Z!==J;){const n=Y[++Z].replace(tt,"");if(n)if("["===n[0]){const{leadingKeys:i,finalKey:r,asArrayItem:s,tag:l,lineRest:o}=jt(n,br),c=ir(e,i);o&&("#"===o[0]||z(a("Unexpect charachtor after table header"+Q(" at ")))),t=rr(c,r,s,l),en&&o&&(t[fr]=s?o.slice(1):c[ur(r)]=o.slice(1))}else if("#"===n[0])Et(n)&&z(a("Control characters other than Tab are not permitted in comments"+Q(", which was found at ")));else{const e=xr(t,n);let i=Tr(e);"string"==typeof i||(i=Bn(i)),i&&("#"===i[0]||z(a("Unexpect charachtor after key/value pair"+Q(" at "))),en&&(e.table[ur(e.finalKey)]=i.slice(1)))}}return e})(),u=(()=>{if(Sn){let e=Sn;const t=In,n=Fn;return Fn=[],()=>{do{t(n[--e]),n.length=e}while(e)}}return null})()}finally{ee()}}finally{In=null,Fn.length=Sn=0,qt=!1,rn=null}}finally{R()}}finally{Lr=!1}return u?.(),c},Mr=n(((e,t,n,i,r)=>"number"==typeof t?kr(e,t,n,i,r):kr(e,1,t,n,i)),{"1.0":(e,t,n,i)=>kr(e,.1,t,n,i),1:(e,t,n,i)=>kr(e,1,t,n,i),.5:(e,t,n,i)=>kr(e,.5,t,n,i),.4:(e,t,n,i)=>kr(e,.4,t,n,i),.3:(e,t,n,i)=>kr(e,.3,t,n,i),.2:(e,t,n,i)=>kr(e,.2,t,n,i),.1:(e,t,n,i)=>kr(e,.1,t,n,i)}),Ur=Number.MAX_SAFE_INTEGER,Ar=Date.prototype,Br=Object.prototype.isPrototypeOf,Dr=String.prototype.valueOf,jr=Number.prototype.valueOf,Cr="undefined"==typeof BigInt?i:BigInt.prototype.valueOf,_r=Cr?function(e){try{u(Cr,e,$)}catch(t){return!1}return!0}:function(){return!1},Er=Boolean.prototype.valueOf,Nr=pe({...ye([...T(32)].map(((e,t)=>[x(t),"\\u"+t.toString(16).toUpperCase().padStart(4,"0")]))),"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"','"""':'""\\"',"\\":"\\\\","":"\\u007F"}),{test:Pr}=B(/[\x00-\x08\x0A-\x1F'\x7F]/),Wr=/[^\x00-\x08\x0A-\x1F"\\\x7F]+|./gs,{test:Kr}=B(/^[\x00-\x08\x0A-\x1F"\\\x7F]/),Rr=e=>{if(Pr(e)){const t=e.match(Wr);let n=t.length;do{Kr(t[--n])&&(t[n]=Nr[t[n]])}while(n);return`"${t.join("")}"`}return`'${e}'`},{test:qr}=B(/[\x00-\x08\x0A-\x1F\x7F]|'''/),{test:Hr}=B(/[\x00-\x08\x0B-\x1F\x7F]|'''/),{test:Yr}=B(/[\x00-\x08\x0A-\x1F\\\x7F]|"""/),Jr=/[^\x00-\x08\x0A-\x1F"\\\x7F]+|"""|./gs,{test:Zr}=B(/^(?:[\x00-\x08\x0A-\x1F\\\x7F]|""")/),zr=(e,t)=>{const n=e[t];if(Yr(n)){const i=n.match(Jr);let r=i.length;do{Zr(i[--r])&&(i[r]=Nr[i[r]])}while(r);e[t]=i.join("")}},Vr=e=>1===(e=["",...e]).length?["",""]:e,Gr=e=>{let t=e.length-1;for(zr(e,t),e[t]+=e[0]='"""';--t;)zr(e,t);return e},Xr=e=>(e[e.length-1]+=e[0]="'''",e),{test:Qr}=B(/^-?\d+$/),es=Br.bind(Ar),{test:ts}=B(/^[\w-]+$/),ns=e=>ts(e)?e:Rr(e),is=/[^.]+/,rs=e=>`'${e}'`,ss=e=>Kt(e)?e.replace(is,rs):"null"===e?"'null'":e;class ls extends T{document;constructor(e){return super(),this.document=e,this}[Un.toPrimitive](){return this.join(this.document.newline)}appendNewline(){this[this.length]=""}set appendLine(e){this[this.length]=e}set appendInline(e){this[this.length-1]+=e}set appendInlineIf(e){e&&(this[this.length-1]+=e)}*assignBlock(e,t,n,i){const{document:r}=this,{newlineUnderHeader:s,newlineUnderSectionButPair:l}=r,a=!!t&&r.newlineUnderPairButDotted,o=t?r.newlineUnderDotted:r.newlineUnderPair;for(const c of i){const i=n[c],u=ns(c),f=e+u;if(y(i)){const{length:e}=i;if(e){let t=i[0];if(Ne(t)){const n=`[[${f}]]`,a=f+".";let o=0,c=t;for(;;){const t=r.appendSection();if(t[0]=n+dr(c,fr),s?(t[1]="",yield t.assignBlock(a,"",c,ae(c)),l&&2!==t.length&&t.appendNewline()):(yield t.assignBlock(a,"",c,ae(c)),l&&t.appendNewline()),++o===e)break;c=i[o]}continue}}}else if(Ne(i)){const e=r.appendSection();e[0]=`[${f}]${r.preferCommentForThis?dr(i,fr)||pr(n,c):pr(n,c)||dr(i,fr)}`,s?(e[1]="",yield e.assignBlock(f+".","",i,ae(i)),l&&2!==e.length&&e.appendNewline()):(yield e.assignBlock(f+".","",i,ae(i)),l&&e.appendNewline());continue}const h=t+u;this.appendLine=ss(h)+" = ";const d=this.value("",i,!0);d?(--this.length,yield this.assignBlock(f+".",h+".",i,d),a&&this.appendNewline()):(this.appendInlineIf=pr(n,c),o&&this.appendNewline())}}value(e,n,r){switch(typeof n){case"object":if(null===n){if(this.document.nullDisabled)throw t('toml can not stringify "null" type value without truthy options.xNull');this.appendInline="null";break}const s=_e(n);if(y(n)){s?this.singlelineArray(e,n):this.staticArray(e,n);break}if(s!==i){s||this.document.multilineTableDisabled?this.inlineTable(e,n):this.multilineTable(e,n,this.document.multilineTableComma);break}if(es(n)){this.appendInline=this.document._?n.toISOString().replace("T"," "):n.toISOString();break}if(Dn in n){const e=n[Dn];if("string"==typeof e)this.appendInline=e;else{if(!y(e))throw t("literal value is broken");{const{length:n}=e;if(!n)throw t("literal value is broken");{this.appendInline=e[0];let t=1;for(;t!==n;)this.appendLine=e[t++]}}}break}if(function(e){try{u(Dr,e,$)}catch(t){return!1}return!0}(n))throw t("TOML.stringify refuse to handle [object String]");if(function(e){try{u(jr,e,$)}catch(t){return!1}return!0}(n))throw t("TOML.stringify refuse to handle [object Number]");if(_r(n))throw t("TOML.stringify refuse to handle [object BigInt]");if(function(e){try{u(Er,e,$)}catch(t){return!1}return!0}(n))throw t("TOML.stringify refuse to handle [object Boolean]");if(r){const e=ae(n);if(e.length)return e;this.appendInline="{ }"}else this.inlineTable(e,n);break;case"bigint":this.appendInline=""+n;break;case"number":this.appendInline=this.document.asInteger(n)?ge(n,-0)?"-0":""+n:(e=>{return e?e===w?"inf":e===-1/0?"-inf":Qr(t=""+e)?t+".0":t:e==e?ge(e,0)?"0.0":"-0.0":"nan";var t})(n);break;case"string":this.appendInline=Rr(n);break;case"boolean":this.appendInline=n?"true":"false";break;default:throw t(`toml can not stringify "${typeof n}" type value`)}return null}singlelineArray(e,t){const{length:n}=t;if(n){this.appendInline="[ ",this.value(e,t[0],!1);let i=1;for(;i!==n;)this.appendInline=", ",this.value(e,t[i++],!1);this.appendInline=" ]"}else this.appendInline="[ ]"}staticArray(e,t){this.appendInline="[";const n=e+this.document.indent,{length:i}=t;let r=0;for(;r!==i;)this.appendLine=n,this.value(n,t[r++],!1),this.appendInline=",";this.appendLine=e+"]"}inlineTable(e,t){const n=ae(t);n.length?(this.appendInline="{ ",this.assignInline(e,t,"",n),this[this.length-1]=this[this.length-1].slice(0,-2)+" }"):this.appendInline="{ }"}multilineTable(e,t,n){this.appendInline="{",this.assignMultiline(e,t,"",ae(t),n),this.appendLine=e+"}"}assignInline(e,t,n,i){for(const r of i){const i=t[r],s=n+ns(r),l=this.appendInline=ss(s)+" = ",a=this.value(e,i,!0);a?(this[this.length-1]=this[this.length-1].slice(0,-l.length),this.assignInline(e,i,s+".",a)):this.appendInline=", "}}assignMultiline(e,t,n,i,r){const s=e+this.document.indent;for(const l of i){const i=t[l],a=n+ns(l);this.appendLine=s+ss(a)+" = ";const o=this.value(s,i,!0);o?(--this.length,this.assignMultiline(e,i,a+".",o,r)):r?this.appendInline=","+pr(t,l):this.appendInlineIf=pr(t,l)}}}const as=pe({document:0,section:1,header:2,pairs:3,pair:4}),{test:os}=B(/^[\t ]*$/),cs=()=>!1;class us extends T{get["constructor"](){return T}0=new ls(this);asInteger;newline="";newlineUnderSection;newlineUnderSectionButPair;newlineUnderHeader;newlineUnderPair;newlineUnderPairButDotted;newlineUnderDotted;indent;_;nullDisabled;multilineTableDisabled;multilineTableComma;preferCommentForThis=!1;constructor(e){super();const n=e?.integer;if(void 0===n)this.asInteger=cs;else if(n===Ur)this.asInteger=le;else{if("number"!=typeof n)throw t("TOML.stringify(,{integer}) can only be number");{if(!le(n))throw te("TOML.stringify(,{integer}) can only be a safe integer");const e=n>=0?n:-n-1,t=n>=0?-n:n;this.asInteger=n=>le(n)&&t<=n&&n<=e}}const i=e?.newline;if(void 0===i&&(this.newline=""),"\n"!==i&&"\r\n"!==i)throw"string"==typeof i?a("TOML.stringify(,{newline}) can only be valid TOML newline"):t("TOML.stringify(,{newline}) can only be string");this.newline=i;const r=e?.preferCommentFor;if(void 0===r||"key"===r);else{if("this"!==r)throw t("TOML.stringify(,{preferCommentFor) can only be 'key' or 'this'");this.preferCommentForThis=!0}const s=as[e?.newlineAround??"header"]??as.header;this.newlineUnderSection=s>0,this.newlineUnderSectionButPair=1===s||2===s,this.newlineUnderHeader=s>1,this.newlineUnderPair=s>2,this.newlineUnderPairButDotted=3===s,this.newlineUnderDotted=s>3;const l=e?.indent;if(void 0===l)this.indent="\t";else if("string"==typeof l){if(!os(l))throw a("TOML.stringify(,{indent}) can only include Tab or Space");this.indent=l}else{if("number"!=typeof l)throw t(`TOML.stringify(,{indent}) can not be "${typeof l}" type`);if(!le(l))throw te(`TOML.stringify(,{indent:${l}}) is out of range`);this.indent=" ".repeat(l)}this._=" "===e?.T,this.nullDisabled=!e?.xNull;const o=e?.xBeforeNewlineInMultilineTable;return""===o?(this.multilineTableDisabled=!1,this.multilineTableComma=!1):","===o?(this.multilineTableDisabled=!1,this.multilineTableComma=!0):(this.multilineTableDisabled=!0,this.multilineTableComma=!0),this}appendSection(){return this[this.length]=new ls(this)}}return k({version:"1.25.0",parse:Mr,stringify:(e,t)=>{const n=new us(t),i=n[0];return i[0]="",Bn(i.assignBlock("","",e,ae(e))),n.newlineUnderSectionButPair&&1!==i.length&&i.appendNewline(),n.newlineUnderSection||n[n.length-1].appendNewline(),n.newline?n.join(n.newline):n.flat()},Section:e=>{if(y(e))throw t("array can not be section, maybe you want to use it on the tables in it");return Pe(e),De(e),e},inline:e=>(Ee(e,!0),y(e)||je(e),e),multiline:(()=>{const e=(e,t)=>"string"==typeof e?jn((Hr(e)?Gr:Xr)(("\n"+e).split("\n")),e):y(e)?jn((e=>{const t=e.length-1;let n=t;do{if(qr(e[n]))break}while(--n);if(n)for(n=t,zr(e,n),e[n]+=e[0]='"""';--n;)zr(e,n);else e[t]+=e[0]="'''";return e})(Vr(e)),"string"==typeof t?t:pe(null)):(e=>(Ee(e,!1),je(e),e))(e);return e.basic=(e,t)=>"string"==typeof e?jn(Gr(("\n"+e).split("\n")),e):jn(Gr(Vr(e)),"string"==typeof t?t:pe(null)),c(e),e})(),basic:e=>jn((e=>{if(e){const t=e.match(Wr);let n=t.length;do{Kr(t[--n])&&(t[n]=Nr[t[n]])}while(n);return`"${t.join("")}"`}return'""'})(e),e),literal:(e,...t)=>{if("string"==typeof e){if(1===t.length)return jn(e.includes("\n")?e.split("\n"):e,t[0])}else{let n=t.length;if(n){const{raw:i}=e;for(e=i[n];n;)t[--n]+=i[n];e=t.join("")+e}else e=e.raw[0]}return jn(e.includes("\n")?e.split("\n"):e,pe(null))},commentFor:ur,commentForThis:fr,OffsetDateTime:wi,LocalDateTime:vi,LocalDate:Li,LocalTime:Bi,isInline:Ce,isSection:Ne})}));
//# sourceMappingURL=j-toml.min.js.map