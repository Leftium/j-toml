/*!@preserve@license
 * 模块名称：j-toml
 * 模块功能：龙腾道为汤小明语写的实现。从属于“简计划”。
   　　　　　An implementation of TOML written by LongTengDao. Belong to "Plan J".
 * 模块版本：1.14.0
 * 许可条款：LGPL-3.0
 * 所属作者：龙腾道 <LongTengDao@LongTengDao.com> (www.LongTengDao.com)
 * 问题反馈：https://GitHub.com/LongTengDao/j-toml/issues
 * 项目主页：https://GitHub.com/LongTengDao/j-toml/
 */
const version="1.14.0",Error$1=Error,TypeError$1=TypeError,assign$1=Object.assign,isBuffer="function"==typeof Buffer?Buffer.isBuffer:function(){return!1},undefined$1=void 0,from="function"==typeof Buffer&&Buffer.hasOwnProperty("from")?Buffer.from:void 0,globalThis$1=globalThis,bind=Function.prototype.bind,test=RegExp.prototype.test,exec=RegExp.prototype.exec,SyntaxError$1=SyntaxError,RegExp$1=RegExp,freeze=Object.freeze,Reflect_apply=Reflect.apply,Proxy$1=Proxy,create$1=Object.create,NULL=Object.seal?Object.preventExtensions(Object.create(null)):null,toStringTag="undefined"==typeof Symbol?void 0:Symbol.toStringTag,Object_defineProperty=Object.defineProperty,Infinity=1/0,hasOwnProperty=Object.prototype.hasOwnProperty,propertyIsEnumerable=Object.prototype.propertyIsEnumerable;var isEnum=propertyIsEnumerable.call.bind(propertyIsEnumerable),hasOwn=function(){return hasOwnProperty.bind?hasOwnProperty.call.bind(hasOwnProperty):function(e,t){return hasOwnProperty.call(e,t)}}(),create=Object.create;const Default=function(e,t){if(t||(t=e,e=create$1(NULL)),assign$1)assign$1(e,t);else for(var r in t)hasOwn(t,r)&&(e[r]=t[r]);if(e.default=e,toStringTag){var a=create$1(NULL);a.value="Module",Object_defineProperty(e,toStringTag,a)}return"function"==typeof e&&e.prototype&&freeze(e.prototype),freeze(e)};var Test=bind?bind.bind(test):function(e){return function(t){return test.call(e,t)}},Exec=bind?bind.bind(exec):function(e){return function(t){return exec.call(e,t)}};function theRegExp(e){var t=e.test=Test(e),r=e.exec=Exec(e),a=t.source=r.source=e.source;return t.unicode=r.unicode=e.unicode,t.ignoreCase=r.ignoreCase=e.ignoreCase,t.multiline=r.multiline=a.indexOf("^")<0&&a.indexOf("$")<0?null:e.multiline,t.dotAll=r.dotAll=a.indexOf(".")<0?null:e.dotAll,e}var NT=/[\n\t]+/g,ESCAPE=/\\./g;function graveAccentReplacer(e){return"\\`"===e?"`":e}var includes="".includes?function(e,t){return e.includes(t)}:function(e,t){return e.indexOf(t)>-1};function RE(e){for(var t=this.U,r=this.I,a=this.M,n=this.S,s=e.raw,i=s[0].replace(NT,""),l=1,o=arguments.length;l!==o;){var _=arguments[l];if("string"==typeof _)i+=_;else{var c=_.source;if("string"!=typeof c)throw TypeError$1("source");if(_.unicode===t)throw SyntaxError$1("unicode");if(_.ignoreCase===r)throw SyntaxError$1("ignoreCase");if(_.multiline===a&&(includes(c,"^")||includes(c,"$")))throw SyntaxError$1("multiline");if(_.dotAll===n&&includes(c,"."))throw SyntaxError$1("dotAll");i+=c}i+=s[l++].replace(NT,"")}var E=RegExp$1(t?i=i.replace(ESCAPE,graveAccentReplacer):i,this.flags),u=E.test=Test(E),T=E.exec=Exec(E);return u.source=T.source=i,u.unicode=T.unicode=t,u.ignoreCase=T.ignoreCase=r,u.multiline=T.multiline=includes(i,"^")||includes(i,"$")?a:null,u.dotAll=T.dotAll=includes(i,".")?n:null,E}var RE_bind=bind&&bind.bind(RE);function Context(e){return{U:!includes(e,"u"),I:!includes(e,"i"),M:!includes(e,"m"),S:!includes(e,"s"),flags:e}}var CONTEXT=Context(""),newRegExp=Proxy$1?new Proxy$1(RE,{apply:function(e,t,r){return Reflect_apply(e,CONTEXT,r)},get:function(e,t){return RE_bind(Context(t))},defineProperty:function(){return!1},preventExtensions:function(){return!1}}):function(){RE.apply=RE.apply;for(var e=function(){return RE.apply(CONTEXT,arguments)},t=63;t--;)!function(t){e[t.flags]=function(){return RE.apply(t,arguments)}}(Context((32&t?"":"g")+(16&t?"":"i")+(8&t?"":"m")+(4&t?"":"s")+(2&t?"":"u")+(1&t?"":"y")));return freeze?freeze(e):e}(),clearRegExp="$_"in RegExp$1?function(){var e=/^/;return e.test=e.test,function(t){return e.test(""),t}}():function(e){return e};const RegExp_prototype=RegExp.prototype;var NON_SCALAR="unicode"in RegExp_prototype?RegExp$1("[\\uD800-\\uDFFF]","u"):/[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;const WeakMap$1=WeakMap,get=WeakMap.prototype.get,set=WeakMap.prototype.set,NONE=[];let sourcePath="",sourceLines=NONE,lastLineIndex=-1,lineIndex=-1;const throws=e=>{throw e},previous=new WeakMap$1,previous_get=get.bind(previous),previous_set=set.bind(previous),noop=(()=>{const e=()=>"";return previous_set(e,e),e})();let stacks_length=0,last=noop;const could=()=>{if(sourceLines!==NONE)throw Error$1("Internal error: parsing during parsing.")},EOL=/\r?\n/,todo=(e,t)=>{if("string"!=typeof t)throw TypeError$1("TOML.parse(,,,,sourcePath)");sourcePath=t,sourceLines=e.split(EOL),lastLineIndex=sourceLines.length-1,lineIndex=-1,stacks_length=0,last=noop},next=()=>sourceLines[++lineIndex],rest=()=>lineIndex!==lastLineIndex,mark=e=>({type:e,lineIndex}),must=e=>(lineIndex===lastLineIndex&&throws(SyntaxError$1(`${e.type} is not close until the end of the file`+where(", which started from ",e.lineIndex))),sourceLines[++lineIndex]),where=(e,t=lineIndex)=>sourceLines===NONE?"":sourcePath?`\n    at (${sourcePath}:${t+1}:1)`:`${e}line ${t+1}: ${sourceLines[t]}`,done=()=>{sourcePath="",sourceLines=NONE,last=noop},stacks_pop=()=>{const e=last;return last=previous_get(last),--stacks_length,e},stacks_push=e=>{previous_set(e,last),last=e,++stacks_length},stacks_insertBeforeLast=e=>{previous_set(e,previous_get(last)),previous_set(last,e),++stacks_length},RangeError$1=RangeError,isSafeInteger=Number.isSafeInteger,ownKeys=Reflect.ownKeys,MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER,MIN_SAFE_INTEGER=Number.MIN_SAFE_INTEGER,WeakSet$1=WeakSet,has=WeakSet.prototype.has,add=WeakSet.prototype.add,del=WeakSet.prototype.delete,Object_keys=Object.keys,getOwnPropertySymbols=Object.getOwnPropertySymbols,Null$1=function(){var e=Object.assign||function(e,t){var r,a,n;for(r=Object_keys(t),a=0;a<r.length;++a)e[n=r[a]]=t[n];if(getOwnPropertySymbols)for(r=getOwnPropertySymbols(t),a=0;a<r.length;++a)isEnum(t,n=r[a])&&([n]=t[n]);return e};function t(e){return delete e.prototype.constructor,freeze(e.prototype),e}var r=function(r){return void 0===r?this:"function"==typeof r?t(r):e(create(NULL),r)};return delete r.name,r.prototype=null,freeze(r),r}(),is=Object.is,Reflect_construct=Reflect.construct,Reflect_defineProperty=Reflect.defineProperty,Reflect_deleteProperty=Reflect.deleteProperty,Keeper=()=>[],hasOwnProperty_call=hasOwnProperty.call.bind(hasOwnProperty),newWeakMap=()=>{const e=new WeakMap$1;return e.has=e.has,e.get=e.get,e.set=e.set,e},target2keeper=newWeakMap(),proxy2target=newWeakMap(),target2proxy=newWeakMap(),handlers=assign$1(create$1(NULL),{defineProperty:(e,t,r)=>{if(hasOwnProperty_call(e,t))return Reflect_defineProperty(e,t,assign$1(create$1(NULL),r));if(Reflect_defineProperty(e,t,assign$1(create$1(NULL),r))){const r=target2keeper.get(e);return r[r.length]=t,!0}return!1},deleteProperty:(e,t)=>{if(Reflect_deleteProperty(e,t)){const r=target2keeper.get(e),a=r.indexOf(t);return a<0||--r.copyWithin(a,a+1).length,!0}return!1},ownKeys:e=>target2keeper.get(e),construct:(e,t,r)=>orderify(Reflect_construct(e,t,r)),apply:(e,t,r)=>orderify(Reflect_apply(e,t,r))}),newProxy=(e,t)=>{target2keeper.set(e,t);const r=new Proxy$1(e,handlers);return proxy2target.set(r,e),r},orderify=e=>{if(proxy2target.has(e))return e;let t=target2proxy.get(e);return t||(t=newProxy(e,assign$1([],ownKeys(e))),target2proxy.set(e,t),t)},Null=function(){function e(){throw TypeError$1("Super constructor Null cannot be invoked with 'new'")}function t(){throw TypeError$1("Super constructor Null cannot be invoked without 'new'")}const r=e=>(delete e.prototype.constructor,freeze(e.prototype),e);function a(n){return new.target?new.target===a?e():newProxy(this,[]):"function"==typeof n?r(n):t()}return a.prototype=null,Object_defineProperty(a,"name",assign$1(create$1(NULL),{value:"",configurable:!1})),freeze(a),a}(),tables=new WeakSet$1,tables_add=add.bind(tables),isTable=has.bind(tables),DIRECTLY=!0,IMPLICITLY=!1,implicitTables=new WeakSet$1,implicitTables_add=add.bind(implicitTables),implicitTables_has=has.bind(implicitTables),wasDirectly=e=>!implicitTables_has(e),directly=del.bind(implicitTables),INLINE=!0,inlineTables=new WeakSet$1,inlineTables_add=add.bind(inlineTables),isInline=has.bind(inlineTables),PAIR=!0,pairs=new WeakSet$1,pairs_add=add.bind(pairs),fromPair=has.bind(pairs),PlainTable=Null$1(class extends Null$1{constructor(e,t){return super(),tables_add(this),e?t&&inlineTables_add(this):(t?pairs_add:implicitTables_add)(this),this}}),OrderedTable=Null$1(class extends Null{constructor(e,t){return super(),tables_add(this),e?t&&inlineTables_add(this):(t?pairs_add:implicitTables_add)(this),this}}),Whitespace=/[ \t]/,PRE_WHITESPACE=(()=>newRegExp`
	^${Whitespace}+`)(),VALUE_REST_exec=(()=>newRegExp.s`
	^
	(
		(?:\d\d\d\d-\d\d-\d\d \d)?
		[\w\-+.:]+
	)
	${Whitespace}*
	(.*)
	$`.exec)(),LITERAL_STRING_exec=(()=>newRegExp.s`
	^
	'([^']*)'
	${Whitespace}*
	(.*)`.exec)(),MULTI_LINE_LITERAL_STRING_0_1_2=(()=>newRegExp.s`
	^
	(.*?)
	'''('{0,2})
	${Whitespace}*
	(.*)`.exec)(),MULTI_LINE_LITERAL_STRING_0=(()=>newRegExp.s`
	^
	(.*?)
	'''()
	${Whitespace}*
	(.*)`.exec)();let __MULTI_LINE_LITERAL_STRING_exec;const SYM_WHITESPACE=(()=>newRegExp.s`
	^
	.
	${Whitespace}*`)(),Tag=/[^\x00-\x1F"#'()<>[\\\]`{}\x7F]+/,KEY_VALUE_PAIR_exec=(()=>newRegExp.s`
	^
	${Whitespace}*
	=
	${Whitespace}*
	(?:
		<(${Tag})>
		${Whitespace}*
	)?
	(.*)
	$`.exec)(),_VALUE_PAIR_exec=(()=>newRegExp.s`
	^
	<(${Tag})>
	${Whitespace}*
	(.*)
	$`.exec)(),TAG_REST_exec=(()=>newRegExp.s`
	^
	<(${Tag})>
	${Whitespace}*
	(.*)
	$`.exec)(),MULTI_LINE_BASIC_STRING_exec=(()=>theRegExp(/^(?:[^\\"]+|\\.|""?(?!"))/s).exec)(),MULTI_LINE_BASIC_STRING_exec_0=e=>{let t="";for(;e;){const r=MULTI_LINE_BASIC_STRING_exec(e);if(!r)break;t+=r[0],e=e.slice(r[0].length)}return t},ESCAPED_EXCLUDE_CONTROL_CHARACTER_TAB______=/[^\\\x00-\x08\x0B-\x1F\x7F]+|\\(?:[btnfr"\\]|[ \t]*\n[ \t\n]*|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/g,ESCAPED_EXCLUDE_CONTROL_CHARACTER__________=/[^\\\x00-\x09\x0B-\x1F\x7F]+|\\(?:[btnfr"\\]| *\n[ \n]*|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/g,ESCAPED_EXCLUDE_CONTROL_CHARACTER_DEL______=/[^\\\x00-\x09\x0B-\x1F]+|\\(?:[btnfr"\\]| *\n[ \n]*|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/g,ESCAPED_EXCLUDE_CONTROL_CHARACTER_DEL_SLASH=/[^\\\x00-\x09\x0B-\x1F]+|\\(?:[btnfr"\\/]| *\n[ \n]*|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/g;let __ESCAPED_EXCLUDE_CONTROL_CHARACTER;const ESCAPED_EXCLUDE_CONTROL_CHARACTER_test=e=>!e.replace(__ESCAPED_EXCLUDE_CONTROL_CHARACTER,""),BASIC_STRING_TAB______=(()=>theRegExp(/^(?:[^\\"\x00-\x08\x0B-\x1F\x7F]+|\\(?:[btnfr"\\]|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8}))/).exec)(),BASIC_STRING__________=(()=>theRegExp(/^(?:[^\\"\x00-\x09\x0B-\x1F\x7F]+|\\(?:[btnfr"\\]|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8}))/).exec)(),BASIC_STRING_DEL______=(()=>theRegExp(/^(?:[^\\"\x00-\x09\x0B-\x1F]+|\\(?:[btnfr"\\]|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8}))/).exec)(),BASIC_STRING_DEL_SLASH=(()=>theRegExp(/^(?:[^\\"\x00-\x09\x0B-\x1F]+|\\(?:[btnfr"\\/]|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8}))/).exec)();let __BASIC_STRING_exec;const BASIC_STRING_exec=e=>{e=e.slice(1);for(let t="";;){const r=__BASIC_STRING_exec(e);if(!r)return'"'===e[0]||throws(SyntaxError$1("Bad basic string"+where(" at "))),{1:t,2:e.replace(SYM_WHITESPACE,"")};t+=r[0],e=e.slice(r[0].length)}},DOT_KEY_exec=(()=>theRegExp(/^[ \t]*\.[ \t]*/).exec)(),BARE_KEY_STRICT=(()=>theRegExp(/^[\w-]+/).exec)(),BARE_KEY_FREE=(()=>theRegExp(/^[^ \t#=[\]'".]+(?:[ \t]+[^ \t#=[\]'".]+)*/).exec)();let __BARE_KEY_exec;const LITERAL_KEY____=(()=>theRegExp(/^'[^'\x00-\x08\x0B-\x1F\x7F]*'/).exec)(),LITERAL_KEY_DEL=(()=>theRegExp(/^'[^'\x00-\x08\x0B-\x1F]*'/).exec)();let __LITERAL_KEY_exec,supportArrayOfTables;const getKeys=e=>{let t="";for(;;){if('"'===e[0]){e=e.slice(1);let r,a='"';for(;r=__BASIC_STRING_exec(e);)e=e.slice(r[0].length),a+=r[0];'"'===e[0]||throws(SyntaxError$1("Bad basic string key"+where(" at "))),e=e.slice(1),t+=a+'"'}else{const r=((e.startsWith("'")?__LITERAL_KEY_exec:__BARE_KEY_exec)(e)??throws(SyntaxError$1(`Bad ${e.startsWith("'")?"literal string":"bare"} key`+where(" at "))))[0];e=e.slice(r.length),t+=r}const r=DOT_KEY_exec(e);if(!r)return t;e=e.slice(r[0].length),t+=r[0]}},TABLE_DEFINITION_exec_groups=e=>{const t="["===e[1];t?(supportArrayOfTables||throws(SyntaxError$1("Array of Tables is not allowed before TOML v0.2"+where(", which at "))),e=e.slice(2)):e=e.slice(1),e=e.replace(PRE_WHITESPACE,"");const r=getKeys(e);"]"===(e=e.slice(r.length).replace(PRE_WHITESPACE,""))[0]||throws(SyntaxError$1("Table header is not closed"+where(", which is found at ")));const a="]"===e[1];let n;return"<"===(e=e.slice(a?2:1).replace(PRE_WHITESPACE,""))[0]?({1:n,2:e}=TAG_REST_exec(e)??throws(SyntaxError$1("Bad tag"+where(" at ")))):n="",!e||"#"===e[0]||throws(SyntaxError$1("Unexpect charachtor after table header"+where(" at "))),{$_asArrayItem$$:t,keys:r,$$asArrayItem$_:a,tag:n}},KEY_VALUE_PAIR_exec_groups=e=>{const t=getKeys(e),{1:r="",2:a}=KEY_VALUE_PAIR_exec(e.slice(t.length))??throws(SyntaxError$1("Keys must equal something"+where(", but missing at ")));return r||a&&"#"!==a[0]||throws(SyntaxError$1("Value can not be missing after euqal sign"+where(", which is found at "))),{left:t,tag:r,right:a}},CONTROL_CHARACTER_EXCLUDE_TAB____=(()=>theRegExp(/[\x00-\x08\x0B-\x1F\x7F]/).test)(),CONTROL_CHARACTER_EXCLUDE_TAB_DEL=(()=>theRegExp(/[\x00-\x08\x0B-\x1F]/).test)();let __CONTROL_CHARACTER_EXCLUDE_test;const KEYS_STRICT=/[\w-]+|"(?:[^\\"]+|\\.)*"|'[^']*'/gs,KEYS_FREE=/[^ \t#=[\]'".]+(?:[ \t]+[^ \t#=[\]'".]+)*|"(?:[^\\"]+|\\.)*"|'[^']*'/gs;let __KEYS;const switchRegExp=e=>{switch(e){case 1:__MULTI_LINE_LITERAL_STRING_exec=MULTI_LINE_LITERAL_STRING_0_1_2,__LITERAL_KEY_exec=LITERAL_KEY____,__CONTROL_CHARACTER_EXCLUDE_test=CONTROL_CHARACTER_EXCLUDE_TAB____,__ESCAPED_EXCLUDE_CONTROL_CHARACTER=ESCAPED_EXCLUDE_CONTROL_CHARACTER_TAB______,__BASIC_STRING_exec=BASIC_STRING_TAB______,__BARE_KEY_exec=BARE_KEY_STRICT,__KEYS=KEYS_STRICT,supportArrayOfTables=!0;break;case.5:__MULTI_LINE_LITERAL_STRING_exec=MULTI_LINE_LITERAL_STRING_0,__LITERAL_KEY_exec=LITERAL_KEY____,__CONTROL_CHARACTER_EXCLUDE_test=CONTROL_CHARACTER_EXCLUDE_TAB____,__ESCAPED_EXCLUDE_CONTROL_CHARACTER=ESCAPED_EXCLUDE_CONTROL_CHARACTER__________,__BASIC_STRING_exec=BASIC_STRING__________,__BARE_KEY_exec=BARE_KEY_STRICT,__KEYS=KEYS_STRICT,supportArrayOfTables=!0;break;case.4:__MULTI_LINE_LITERAL_STRING_exec=MULTI_LINE_LITERAL_STRING_0,__LITERAL_KEY_exec=LITERAL_KEY_DEL,__CONTROL_CHARACTER_EXCLUDE_test=CONTROL_CHARACTER_EXCLUDE_TAB_DEL,__ESCAPED_EXCLUDE_CONTROL_CHARACTER=ESCAPED_EXCLUDE_CONTROL_CHARACTER_DEL______,__BASIC_STRING_exec=BASIC_STRING_DEL______,__BARE_KEY_exec=BARE_KEY_STRICT,__KEYS=KEYS_STRICT,supportArrayOfTables=!0;break;default:__MULTI_LINE_LITERAL_STRING_exec=MULTI_LINE_LITERAL_STRING_0,__LITERAL_KEY_exec=LITERAL_KEY_DEL,__CONTROL_CHARACTER_EXCLUDE_test=CONTROL_CHARACTER_EXCLUDE_TAB_DEL,__ESCAPED_EXCLUDE_CONTROL_CHARACTER=ESCAPED_EXCLUDE_CONTROL_CHARACTER_DEL_SLASH,__BASIC_STRING_exec=BASIC_STRING_DEL_SLASH,__BARE_KEY_exec=BARE_KEY_FREE,__KEYS=KEYS_FREE,supportArrayOfTables=!1}};let useWhatToJoinMultiLineString,usingBigInt,IntegerMin,IntegerMax,endsWithQuote,zeroDatetime,inlineTable,moreDatetime,disallowEmptyKey,sError,sFloat,Table,allowLonger,enableNull,allowInlineTableMultiLineAndTrailingCommaEvenNoComma;const arrayTypes=new WeakMap$1,arrayTypes_get=get.bind(arrayTypes),arrayTypes_set=set.bind(arrayTypes),As=()=>{const e=t=>{const r=arrayTypes_get(t);return r?r===e||throws(TypeError$1("Types in Array must be same"+where(". Check "))):arrayTypes_set(t,e),t};return e},AS_TYPED={asNulls:As(),asStrings:As(),asTables:As(),asArrays:As(),asBooleans:As(),asFloats:As(),asIntegers:As(),asOffsetDateTimes:As(),asLocalDateTimes:As(),asLocalDates:As(),asLocalTimes:As()},asMixed=e=>e;let asNulls,asStrings,asTables,asArrays,asBooleans,asFloats,asIntegers,asOffsetDateTimes,asLocalDateTimes,asLocalDates,asLocalTimes,processor=null,collection=[],collection_length=0;const collect_on=(e,t,r,a)=>{const n=create$1(NULL);n.tag=e,r&&(n.table=r,n.key=a),t&&(n.array=t,n.index=t.length),collection[collection_length++]=n},collect_off=()=>{throws(SyntaxError$1("xOptions.tag is not enabled, but found tag syntax"+where(" at ")))};let collect=collect_off;const process=()=>{if(collection_length){done();const e=processor,t=collection;for(processor=null,collection=[];collection_length--;)e(t[collection_length]),t.length=collection_length}},clear=()=>{processor=null,collection.length=collection_length=0,zeroDatetime=!1},use=(e,t,r,a)=>{let n;switch(e){case 1:n=endsWithQuote=moreDatetime=sFloat=inlineTable=!0,zeroDatetime=disallowEmptyKey=!1;break;case.5:moreDatetime=sFloat=inlineTable=!0,n=endsWithQuote=zeroDatetime=disallowEmptyKey=!1;break;case.4:disallowEmptyKey=inlineTable=!0,n=endsWithQuote=zeroDatetime=moreDatetime=sFloat=!1;break;case.3:disallowEmptyKey=!0,n=endsWithQuote=zeroDatetime=moreDatetime=sFloat=inlineTable=!1;break;case.2:case.1:zeroDatetime=disallowEmptyKey=!0,n=endsWithQuote=moreDatetime=sFloat=inlineTable=!1;break;default:throw RangeError$1("TOML.parse(,specificationVersion)")}if(switchRegExp(e),"string"!=typeof t)throw TypeError$1("TOML.parse(,,multiLineJoiner)");if(useWhatToJoinMultiLineString=t,void 0===r||!0===r)usingBigInt=!0;else if(!1===r)usingBigInt=!1;else{if("number"!=typeof r)throw TypeError$1("TOML.parse(,,,useBigInt)");if(!isSafeInteger(r))throw RangeError$1("TOML.parse(,,,useBigInt)");if(usingBigInt=null,r>=0?IntegerMin=-(IntegerMax=r):IntegerMax=-(IntegerMin=r)-1,IntegerMin<MIN_SAFE_INTEGER||MAX_SAFE_INTEGER<IntegerMax)throw RangeError$1("TOML.parse(,,,useBigInt)")}if(null==a||!1===a)Table=PlainTable,sError=allowLonger=enableNull=allowInlineTableMultiLineAndTrailingCommaEvenNoComma=!1,collect=collect_off;else if(!0===a)Table=OrderedTable,allowLonger=sError=enableNull=allowInlineTableMultiLineAndTrailingCommaEvenNoComma=!0,collect=collect_off;else if("function"==typeof a){if(Table=OrderedTable,allowLonger=sError=enableNull=allowInlineTableMultiLineAndTrailingCommaEvenNoComma=!0,!n)throw TypeError$1("TOML.parse(,,,,tag) needs at least TOML 1.0 to support mixed type array");processor=a,collect=collect_on}else{const{order:e,longer:t,exact:r,null:s,multi:i,tag:l,...o}=a;if(ownKeys(o).length)throw TypeError$1("TOML.parse(,,,,xOptions)");if(Table=e?OrderedTable:PlainTable,allowLonger=!!t,sError=!!r,enableNull=!!s,allowInlineTableMultiLineAndTrailingCommaEvenNoComma=!!i,l){if("function"!=typeof l)throw TypeError$1("TOML.parse(,,,,xOptions.tag)");if(!n)throw TypeError$1("TOML.parse(,,,,xOptions) xOptions.tag needs at least TOML 1.0 to support mixed type array");processor=l,collect=collect_on}else collect=collect_off}n?asNulls=asStrings=asTables=asArrays=asBooleans=asFloats=asIntegers=asOffsetDateTimes=asLocalDateTimes=asLocalDates=asLocalTimes=asMixed:({asNulls,asStrings,asTables,asArrays,asBooleans,asFloats,asIntegers,asOffsetDateTimes,asLocalDateTimes,asLocalDates,asLocalTimes}=AS_TYPED)},NaN=0/0,arrays=new WeakSet$1,arrays_add=add.bind(arrays),isArray=has.bind(arrays),OF_TABLES=!1,STATICALLY=!0,staticalArrays=new WeakSet$1,staticalArrays_add=add.bind(staticalArrays),isStatic=has.bind(staticalArrays),newArray=e=>{const t=[];return arrays_add(t),e&&staticalArrays_add(t),t},NativeDate=Date,parse$2=Date.parse,preventExtensions=Object.preventExtensions,_29_=/(?:0[1-9]|1\d|2[0-9])/,_30_=/(?:0[1-9]|[12]\d|30)/,_31_=/(?:0[1-9]|[12]\d|3[01])/,_23_=/(?:[01]\d|2[0-3])/,_59_=/[0-5]\d/,YMD=(()=>newRegExp`
	\d\d\d\d-
	(?:
		0
		(?:
			[13578]-${_31_}
			|
			[469]-${_30_}
			|
			2-${_29_}
		)
		|
		1
		(?:
			[02]-${_31_}
			|
			1-${_30_}
		)
	)`)(),HMS=(()=>newRegExp`
	${_23_}:${_59_}:${_59_}
	`)(),OFFSET$=/(?:Z|[+-]\d\d:\d\d)$/,Z_exec=(()=>theRegExp(/(([+-])\d\d):(\d\d)$/).exec)(),OFFSET_DATETIME_exec=(()=>newRegExp`
	^
	${YMD}
	[T ]
	${HMS}(?:\.\d{1,3})?
	(\d*?)0*
	(?:Z|[+-]${_23_}:${_59_})
	$`.exec)(),OFFSET_DATETIME_ZERO_exec=(()=>newRegExp`
	^
	${YMD}
	[T ]
	${HMS}
	()
	Z
	$`.exec)(),IS_LOCAL_DATETIME=(()=>newRegExp`
	^
	${YMD}
	[T ]
	${HMS}
	(?:\.\d+)?
	$`.test)(),IS_LOCAL_DATE=(()=>newRegExp`
	^
	${YMD}
	$`.test)(),IS_LOCAL_TIME=(()=>newRegExp`
	^
	${HMS}
	(?:\.\d+)?
	$`.test)(),DOT_ZERO=/\.?0+$/,DELIMITER_DOT=/[-T:.]/g,ZERO=/(?<=\.\d*)0+$/,Datetime=(()=>{const e=function(){return this},t=Null$1(null);{const e=Null$1(null);for(const r of ownKeys(NativeDate.prototype))"constructor"===r||"toJSON"===r||(t[r]=e)}return e.prototype=preventExtensions(create$1(NativeDate.prototype,t)),freeze(e)})(),Value=e=>e.replace(ZERO,"").replace(DELIMITER_DOT,""),leap=e=>"02-29"!==e.slice(5,10)||+e.slice(0,4)%4==0&&"00"!==e.slice(2,4),DATE=new NativeDate(0),OffsetDateTime_ISOString=Symbol("OffsetDateTime_ISOString"),OffsetDateTime_value=Symbol("OffsetDateTime_value"),OffsetDateTime_use=(e,t=0)=>(DATE.setTime(+e[OffsetDateTime_value]+t),DATE),OffsetDateTime_get=(e,t,r)=>+e[OffsetDateTime_ISOString].slice(t,r),OffsetDateTime_set=(e,t,r,a)=>{r&&(e[OffsetDateTime_ISOString]=e[OffsetDateTime_ISOString].slice(0,t)+(""+a).padStart(r-t,"0")+e[OffsetDateTime_ISOString].slice(r));const n=parse$2(e[OffsetDateTime_ISOString]);return e[OffsetDateTime_value]=(""+n).padStart(15,"0")+e[OffsetDateTime_value].slice(15),n},OffsetDateTime=Null$1(class extends Datetime{[OffsetDateTime_ISOString];[OffsetDateTime_value];valueOf(){return this[OffsetDateTime_value]}toISOString(){return this[OffsetDateTime_ISOString]}constructor(e){const{1:t}=leap(e)&&(zeroDatetime?OFFSET_DATETIME_ZERO_exec:OFFSET_DATETIME_exec)(e)||throws(SyntaxError$1(`Invalid Offset Date-Time ${e}`+where(" at ")));return super(),this[OffsetDateTime_ISOString]=e.replace(" ","T"),this[OffsetDateTime_value]=(""+parse$2(this[OffsetDateTime_ISOString])).padStart(15,"0")+(t?"."+t:""),this}getUTCFullYear(){return OffsetDateTime_use(this).getUTCFullYear()}getFullYear(){return OffsetDateTime_get(this,0,4)}setFullYear(e){return OffsetDateTime_set(this,0,4,e)}getUTCMonth(){return OffsetDateTime_use(this).getUTCMonth()}getMonth(){return OffsetDateTime_get(this,5,7)-1}setMonth(e){return OffsetDateTime_set(this,5,7,e+1)}getUTCDate(){return OffsetDateTime_use(this).getUTCDate()}getDate(){return OffsetDateTime_get(this,8,10)}setDate(e){return OffsetDateTime_set(this,8,10,e)}getUTCHours(){return OffsetDateTime_use(this).getUTCHours()}getHours(){return OffsetDateTime_get(this,11,13)}setHours(e){return OffsetDateTime_set(this,11,13,e)}getUTCMinutes(){return OffsetDateTime_use(this).getUTCMinutes()}getMinutes(){return OffsetDateTime_get(this,14,16)}setMinutes(e){return OffsetDateTime_set(this,14,16,e)}getUTCSeconds(){return OffsetDateTime_use(this).getUTCSeconds()}getSeconds(){return OffsetDateTime_get(this,17,19)}setSeconds(e){return OffsetDateTime_set(this,17,19,e)}getUTCMilliseconds(){return OffsetDateTime_use(this).getUTCMilliseconds()}getMilliseconds(){return+this[OffsetDateTime_value].slice(12,15)}setMilliseconds(e){return this[OffsetDateTime_ISOString]=this[OffsetDateTime_ISOString].slice(0,19)+(e?("."+(""+e).padStart(3,"0")).replace(DOT_ZERO,""):"")+this[OffsetDateTime_ISOString].slice(this[OffsetDateTime_ISOString].search(OFFSET$)),OffsetDateTime_set(this,0,0,0)}getUTCDay(){return OffsetDateTime_use(this).getUTCDay()}getDay(){return OffsetDateTime_use(this,6e4*this.getTimezoneOffset()).getUTCDay()}getTimezoneOffset(){const e=Z_exec(this[OffsetDateTime_ISOString]);return e?60*+e[1]+ +(e[2]+e[3]):0}setTimezoneOffset(e){let t=OffsetDateTime_use(this,6e4*(e=+e)).toISOString().slice(0,-1);if(e){e>0?t+="+":(t+="-",e=-e);const r=e%60,a=(e-r)/60;this[OffsetDateTime_ISOString]=t+(a>9?a:"0"+a)+(r>9?":"+r:":0"+r)}else this[OffsetDateTime_ISOString]=t+(is(e,0)?"Z":"-00:00")}getTime(){return+this[OffsetDateTime_value].slice(0,15)}setTime(e){e=DATE.setTime(e);const t=Z_exec(this[OffsetDateTime_ISOString]);return DATE.setTime(e+6e4*(t?60*+t[1]+ +(t[2]+t[3]):0)),this[OffsetDateTime_ISOString]=t?DATE.toISOString().slice(0,-1)+t[0]:DATE.toISOString(),this[OffsetDateTime_value]=(""+e).padStart(15,"0"),e}}),LocalDateTime_ISOString=Symbol("LocalDateTime_ISOString"),LocalDateTime_value=Symbol("LocalDateTime_value"),LocalDateTime_get=(e,t,r)=>+e[LocalDateTime_ISOString].slice(t,r),LocalDateTime_set=(e,t,r,a)=>{e[LocalDateTime_value]=Value(e[LocalDateTime_ISOString]=e[LocalDateTime_ISOString].slice(0,t)+(""+a).padStart(r-t,"0")+e[LocalDateTime_ISOString].slice(r))},LocalDateTime=Null$1(class extends Datetime{[LocalDateTime_ISOString];[LocalDateTime_value];valueOf(){return this[LocalDateTime_value]}toISOString(){return this[LocalDateTime_ISOString]}constructor(e){return IS_LOCAL_DATETIME(e)&&leap(e)||throws(SyntaxError$1(`Invalid Local Date-Time ${e}`+where(" at "))),super(),this[LocalDateTime_value]=Value(this[LocalDateTime_ISOString]=e.replace(" ","T")),this}getFullYear(){return LocalDateTime_get(this,0,4)}setFullYear(e){return LocalDateTime_set(this,0,4,e)}getMonth(){return LocalDateTime_get(this,5,7)-1}setMonth(e){return LocalDateTime_set(this,5,7,e+1)}getDate(){return LocalDateTime_get(this,8,10)}setDate(e){return LocalDateTime_set(this,8,10,e)}getHours(){return LocalDateTime_get(this,11,13)}setHours(e){return LocalDateTime_set(this,11,13,e)}getMinutes(){return LocalDateTime_get(this,14,16)}setMinutes(e){return LocalDateTime_set(this,14,16,e)}getSeconds(){return LocalDateTime_get(this,17,19)}setSeconds(e){return LocalDateTime_set(this,17,19,e)}getMilliseconds(){return+this[LocalDateTime_value].slice(14,17).padEnd(3,"0")}setMilliseconds(e){this[LocalDateTime_value]=Value(this[LocalDateTime_ISOString]=this[LocalDateTime_ISOString].slice(0,19)+(e?("."+(""+e).padStart(3,"0")).replace(DOT_ZERO,""):""))}}),LocalDate_ISOString=Symbol("LocalDate_ISOString"),LocalDate_value=Symbol("LocalDate_value"),LocalDate_get=(e,t,r)=>+e[LocalDate_ISOString].slice(t,r),LocalDate_set=(e,t,r,a)=>{e[LocalDate_value]=Value(e[LocalDate_ISOString]=e[LocalDate_ISOString].slice(0,t)+(""+a).padStart(r-t,"0")+e[LocalDate_ISOString].slice(r))},LocalDate=Null$1(class extends Datetime{[LocalDate_ISOString];[LocalDate_value];valueOf(){return this[LocalDate_value]}toISOString(){return this[LocalDate_ISOString]}constructor(e){return IS_LOCAL_DATE(e)&&leap(e)||throws(SyntaxError$1(`Invalid Local Date ${e}`+where(" at "))),super(),this[LocalDate_value]=Value(this[LocalDate_ISOString]=e),this}getFullYear(){return LocalDate_get(this,0,4)}setFullYear(e){return LocalDate_set(this,0,4,e)}getMonth(){return LocalDate_get(this,5,7)-1}setMonth(e){return LocalDate_set(this,5,7,e+1)}getDate(){return LocalDate_get(this,8,10)}setDate(e){return LocalDate_set(this,8,10,e)}}),LocalTime_ISOString=Symbol("LocalTime_ISOString"),LocalTime_value=Symbol("LocalTime_value"),LocalTime_get=(e,t,r)=>+e[LocalTime_ISOString].slice(t,r),LocalTime_set=(e,t,r,a)=>{e[LocalTime_value]=Value(e[LocalTime_ISOString]=e[LocalTime_ISOString].slice(0,t)+(""+a).padStart(2,"0")+e[LocalTime_ISOString].slice(r))},LocalTime=Null$1(class extends Datetime{[LocalTime_ISOString];[LocalTime_value];valueOf(){return this[LocalTime_value]}toISOString(){return this[LocalTime_ISOString]}constructor(e){return IS_LOCAL_TIME(e)||throws(SyntaxError$1(`Invalid Local Time ${e}`+where(" at "))),super(),this[LocalTime_value]=Value(this[LocalTime_ISOString]=e),this}getHours(){return LocalTime_get(this,0,2)}setHours(e){return LocalTime_set(this,0,2,e)}getMinutes(){return LocalTime_get(this,3,5)}setMinutes(e){return LocalTime_set(this,3,5,e)}getSeconds(){return LocalTime_get(this,6,8)}setSeconds(e){return LocalTime_set(this,6,8,e)}getMilliseconds(){return+this[LocalTime_value].slice(6,9).padEnd(3,"0")}setMilliseconds(e){this[LocalTime_value]=Value(this[LocalTime_ISOString]=this[LocalTime_ISOString].slice(0,8)+(e?("."+(""+e).padStart(3,"0")).replace(DOT_ZERO,""):""))}}),BigInt$1=BigInt,INTEGER_D=/[-+]?(?:0|[1-9]\d*(?:_\d+)*)/,IS_D_INTEGER=(()=>newRegExp`^${INTEGER_D}$`.test)(),IS_XOB_INTEGER=(()=>theRegExp(/^0(?:x[0-9A-Fa-f]+(?:_[0-9A-Fa-f]+)*|o[0-7]+(?:_[0-7]+)*|b[01]+(?:_[01]+)*)$/).test)(),UNDERSCORES_SIGN=/_|^[-+]/g,BigIntInteger=e=>{IS_D_INTEGER(e)||IS_XOB_INTEGER(e)||throws(SyntaxError$1(`Invalid Integer ${e}`+where(" at ")));let t=BigInt$1(e.replace(UNDERSCORES_SIGN,""));return"-"===e[0]&&(t=-t),allowLonger||-9223372036854775808n<=t&&t<=9223372036854775807n||throws(RangeError$1(`Integer expect 64 bit range (-9,223,372,036,854,775,808 to 9,223,372,036,854,775,807), not includes ${e}`+where(" meet at "))),t},NumberInteger=e=>{IS_D_INTEGER(e)||IS_XOB_INTEGER(e)||throws(SyntaxError$1(`Invalid Integer ${e}`+where(" at ")));const t="-"===e[0]?-e.replace(UNDERSCORES_SIGN,""):+e.replace(UNDERSCORES_SIGN,"");return isSafeInteger(t)||throws(RangeError$1(`Integer did not use BitInt must fit Number.isSafeInteger, not includes ${e}`+where(" meet at "))),t},Integer=e=>{if(!0===usingBigInt)return BigIntInteger(e);if(!1===usingBigInt)return NumberInteger(e);const t=BigIntInteger(e);return IntegerMin<=t&&t<=IntegerMax?+(t+""):t},isFinite$1=isFinite,IS_FLOAT=(()=>newRegExp`
	^
	${INTEGER_D}
	(?=[.eE])
	(?:\.\d+(?:_\d+)*)?
	(?:[eE][-+]?\d+(?:_\d+)*)?
	$`.test)(),UNDERSCORES=/_/g,IS_ZERO=(()=>theRegExp(/^[-+]?0(?:\.[0_]+)?(?:[eE][-+]?0+)?$/).test)(),Float=e=>{if(IS_FLOAT(e)){const t=+e.replace(UNDERSCORES,"");return sError&&(isFinite$1(t)||throws(RangeError$1(`Float has been as big as inf, like ${e}`+where(" at "))),t||IS_ZERO(e)||throws(RangeError$1(`Float has been as little as ${"-"===e[0]?"-":""}0, like ${e}`+where(" at ")))),t}throws(SyntaxError$1(`Invalid Float ${e}`+where(" at ")))},parseInt$1=parseInt,fromCodePoint=String.fromCodePoint,ESCAPE_ALIAS={b:"\b",t:"\t",n:"\n",f:"\f",r:"\r",'"':'"',"/":"/","\\":"\\"},ESCAPED_IN_SINGLE_LINE=/\\(?:([\\"btnfr/])|u(.{4})|U(.{8}))/gs,ESCAPED_IN_MULTI_LINE=/\n|\\(?: *(\n)[ \n]*|([\\"btnfr/])|u(.{4})|U(.{8}))/gs,unEscapeSingleLine=(e,t,r,a)=>{if(t)return ESCAPE_ALIAS[t];const n=parseInt$1(r??a,16);return(55295<n&&n<57344||1114111<n)&&throws(RangeError$1("Invalid Unicode Scalar "+(r?"\\u"+r:"\\U"+a)+where(" at "))),fromCodePoint(n)};let n=0;const unEscapeMultiLine=(e,t,r,a,s)=>{if("\n"===e)return++n,useWhatToJoinMultiLineString;if(t)return"";if(r)return ESCAPE_ALIAS[r];const i=parseInt$1(a??s,16);return(55295<i&&i<57344||1114111<i)&&throws(RangeError$1("Invalid Unicode Scalar "+(a?"\\u"+a:"\\U"+s)+where(" at ",lineIndex+n))),fromCodePoint(i)},BasicString=e=>e.replace(ESCAPED_IN_SINGLE_LINE,unEscapeSingleLine),MultiLineBasicString=(e,t)=>(n=t?1:0,e.replace(ESCAPED_IN_MULTI_LINE,unEscapeMultiLine)),parseKeys=e=>{const t=e.match(__KEYS);let r=t.length;do{const e=t[--r];e.startsWith("'")?t[r]=e.slice(1,-1):'"'===e[0]&&(t[r]=BasicString(e.slice(1,-1)))}while(r);if(disallowEmptyKey){let e=t.length;do{t[--e]||throws(SyntaxError$1("Empty key is not allowed before TOML v0.5"+where(", which at ")))}while(e)}return t},prepareTable=(e,t)=>{const{length:r}=t;let a=0;for(;a<r;){const n=t[a++];if(!(n in e)){for(e=e[n]=new Table(!1);a<r;)e=e[t[a++]]=new Table(!1);return e}isTable(e=e[n])?isInline(e)&&throws(Error$1("Trying to define Table under static Inline Table"+where(" at "))):isArray(e)?(isStatic(e)&&throws(Error$1("Trying to append value to static Inline Array"+where(" at "))),e=e[e.length-1]):throws(Error$1("Trying to define Table under non-Table value"+where(" at ")))}return e},appendTable=(e,t,r,a)=>{const n=parseKeys(t),s=n[n.length-1];let i;if(--n.length,e=prepareTable(e,n),r){let t;s in e?isArray(t=e[s])&&!isStatic(t)||throws(Error$1("Trying to push Table to non-ArrayOfTables value"+where(" at "))):t=e[s]=newArray(!1),a&&collect(a,t,e,s),t[t.length]=i=new Table(!0)}else s in e?(i=e[s],wasDirectly(i)&&throws(Error$1("Duplicate Table definition"+where(" at "))),directly(i),fromPair(i)&&throws(Error$1("A table defined implicitly via key/value pair can not be accessed to via []"+where(", which at ")))):e[s]=i=new Table(!0),a&&collect(a,null,e,s);return i},prepareInlineTable=(e,t)=>{const{length:r}=t;let a=0;for(;a<r;){const n=t[a++];if(!(n in e)){for(e=e[n]=new Table(!1,!0);a<r;)e=e[t[a++]]=new Table(!1,!0);return e}isTable(e=e[n])||throws(Error$1("Trying to assign property through non-Table value"+where(" at "))),isInline(e)&&throws(Error$1("Trying to assign property through static Inline Table"+where(" at "))),fromPair(e)||throws(Error$1("A table defined implicitly via [] can not be accessed to via key/value pair"+where(", which at ")))}return e},checkLiteralString=e=>(__CONTROL_CHARACTER_EXCLUDE_test(e)&&throws(SyntaxError$1("Control characters other than Tab are not permitted in a Literal String"+where(", which was found at "))),e),assignLiteralString=(e,t,r)=>{if("'"!==r[1]||"'"!==r[2]){const a=LITERAL_STRING_exec(r)??throws(SyntaxError$1("Bad literal string"+where(" at ")));return e[t]=checkLiteralString(a[1]),a[2]}r=r.slice(3);const a=__MULTI_LINE_LITERAL_STRING_exec(r);if(a)return e[t]=checkLiteralString(a[1])+a[2],a[3];r&&(checkLiteralString(r),r+=useWhatToJoinMultiLineString);const n=mark("Literal String");for(;;){const a=must(n),s=__MULTI_LINE_LITERAL_STRING_exec(a);if(s)return e[t]=r+checkLiteralString(s[1])+s[2],s[3];r+=a+useWhatToJoinMultiLineString}},assignBasicString=(e,t,r)=>{if('"'!==r[1]||'"'!==r[2]){const a=BASIC_STRING_exec(r);return e[t]=BasicString(a[1]),a[2]}r=r.slice(3);const a=MULTI_LINE_BASIC_STRING_exec_0(r);let{length:n}=a;if(r.startsWith('"""',n))return ESCAPED_EXCLUDE_CONTROL_CHARACTER_test(a)||throws(SyntaxError$1("Bad multi-line basic string"+where(" at "))),n+=3,e[t]=BasicString(a)+(endsWithQuote&&'"'===r[n]?'"'===r[++n]?(++n,'""'):'"':""),r.slice(n).replace(PRE_WHITESPACE,"");let s=!0;r&&(ESCAPED_EXCLUDE_CONTROL_CHARACTER_test(r+="\n")||throws(SyntaxError$1("Bad multi-line basic string"+where(" at "))),s=!1);const i=mark("Basic String");for(;;){let a=must(i);const n=MULTI_LINE_BASIC_STRING_exec_0(a);let{length:l}=n;if(a.startsWith('"""',l))return ESCAPED_EXCLUDE_CONTROL_CHARACTER_test(n)||throws(SyntaxError$1("Bad multi-line basic string"+where(" at "))),l+=3,e[t]=MultiLineBasicString(r+n,s)+(endsWithQuote&&'"'===a[l]?'"'===a[++l]?(++l,'""'):'"':""),a.slice(l).replace(PRE_WHITESPACE,"");a+="\n",ESCAPED_EXCLUDE_CONTROL_CHARACTER_test(a)||throws(SyntaxError$1("Bad multi-line basic string"+where(" at "))),r+=a}},IS_OFFSET$=(()=>theRegExp(OFFSET$).test)(),push=(e,t)=>{if("<"===t[0]){const{1:r}=({2:t}=_VALUE_PAIR_exec(t)??throws(SyntaxError$1("Bad tag "+where(" at "))));switch(collect(r,e,null),t&&t[0]){case",":case"]":case"":case"#":return e[e.length]=void 0,t}}switch(t[0]){case"'":return assignLiteralString(asStrings(e),e.length,t);case'"':return assignBasicString(asStrings(e),e.length,t);case"{":return inlineTable||throws(SyntaxError$1("Inline Table is not allowed before TOML v0.4"+where(", which at "))),stacks_push((t=>equalInlineTable(asTables(e),e.length,t))),t;case"[":return stacks_push((t=>equalStaticArray(asArrays(e),e.length,t))),t}const{1:r}=({2:t}=VALUE_REST_exec(t)??throws(SyntaxError$1("Bad atom value"+where(" at "))));if(sFloat){if("inf"===r||"+inf"===r)return asFloats(e)[e.length]=1/0,t;if("-inf"===r)return asFloats(e)[e.length]=-1/0,t;if("nan"===r||"+nan"===r||"-nan"===r)return asFloats(e)[e.length]=0/0,t}return r.includes(":")?(r.includes("-")?IS_OFFSET$(r)?asOffsetDateTimes(e)[e.length]=new OffsetDateTime(r):(moreDatetime||throws(SyntaxError$1("Local Date-Time is not allowed before TOML v0.5"+where(", which at "))),asLocalDateTimes(e)[e.length]=new LocalDateTime(r)):(moreDatetime||throws(SyntaxError$1("Local Time is not allowed before TOML v0.5"+where(", which at "))),asLocalTimes(e)[e.length]=new LocalTime(r)),t):r.indexOf("-")!==r.lastIndexOf("-")&&"-"!==r[0]?(moreDatetime||throws(SyntaxError$1("Local Date is not allowed before TOML v0.5"+where(", which at "))),asLocalDates(e)[e.length]=new LocalDate(r),t):("true"===r?asBooleans(e)[e.length]=!0:"false"===r?asBooleans(e)[e.length]=!1:r.includes(".")||(r.includes("e")||r.includes("E"))&&!r.startsWith("0x")?asFloats(e)[e.length]=Float(r):enableNull&&"null"===r?asNulls(e)[e.length]=null:asIntegers(e)[e.length]=Integer(r),t)},equalStaticArray=(e,t,r)=>{const a=e[t]=newArray(!0),n=mark("Inline Array");for(r=r.replace(SYM_WHITESPACE,"");!r||"#"===r[0];)r=must(n).replace(PRE_WHITESPACE,"");if("]"===r[0])return r.replace(SYM_WHITESPACE,"");const s=stacks_length;return function e(t){for(;;){if(t=push(a,t),stacks_length>s)return stacks_insertBeforeLast((function(t){for(;!t||"#"===t[0];)t=must(n).replace(PRE_WHITESPACE,"");if(","===t[0]){for(t=t.replace(SYM_WHITESPACE,"");!t||"#"===t[0];)t=must(n).replace(PRE_WHITESPACE,"");if("]"===t[0])return t.replace(SYM_WHITESPACE,"")}else{if("]"===t[0])return t.replace(SYM_WHITESPACE,"");throws(SyntaxError$1("Unexpect character after static array item value"+where(", which is found at ")))}return e(t)})),t;for(;!t||"#"===t[0];)t=must(n).replace(PRE_WHITESPACE,"");if(","===t[0]){for(t=t.replace(SYM_WHITESPACE,"");!t||"#"===t[0];)t=must(n).replace(PRE_WHITESPACE,"");if("]"===t[0])return t.replace(SYM_WHITESPACE,"")}else{if("]"===t[0])return t.replace(SYM_WHITESPACE,"");throws(SyntaxError$1("Unexpect character in static array item value"+where(", which is found at ")))}}}(r)},equalInlineTable=(e,t,r)=>{const a=e[t]=new Table(!0,!0);if(allowInlineTableMultiLineAndTrailingCommaEvenNoComma){const e=mark("Inline Table");r=r.replace(SYM_WHITESPACE,"");const t=stacks_length;return function r(n){for(;;){for(;!n||"#"===n[0];)n=must(e).replace(PRE_WHITESPACE,"");if("}"===n[0])return n.replace(SYM_WHITESPACE,"");if(n=assign(a,n),stacks_length>t)return stacks_insertBeforeLast((function(t){for(;!t||"#"===t[0];)t=must(e).replace(PRE_WHITESPACE,"");return","===t[0]&&(t=t.replace(SYM_WHITESPACE,"")),r(t)})),n;for(;!n||"#"===n[0];)n=must(e).replace(PRE_WHITESPACE,"");","===n[0]&&(n=n.replace(SYM_WHITESPACE,""))}}(r)}{if("}"===(r=r.replace(SYM_WHITESPACE,""))[0])return r.replace(SYM_WHITESPACE,"");r&&"#"!==r[0]||throws(SyntaxError$1("Inline Table is intended to appear on a single line"+where(", which broken at ")));const e=stacks_length;return function t(r){for(;;){if(r=assign(a,r),stacks_length>e)return stacks_insertBeforeLast((function(e){return"}"===e[0]?e.replace(SYM_WHITESPACE,""):(","===e[0]&&"}"===(e=e.replace(SYM_WHITESPACE,""))[0]&&throws(SyntaxError$1("The last property of an Inline Table can not have a trailing comma"+where(", which was found at "))),(!e||"#"===e[0])&&throws(SyntaxError$1("Inline Table is intended to appear on a single line"+where(", which broken at "))),t(e))})),r;if("}"===r[0])return r.replace(SYM_WHITESPACE,"");","===r[0]&&"}"===(r=r.replace(SYM_WHITESPACE,""))[0]&&throws(SyntaxError$1("The last property of an Inline Table can not have a trailing comma"+where(", which was found at "))),(!r||"#"===r[0])&&throws(SyntaxError$1("Inline Table is intended to appear on a single line"+where(", which broken at ")))}}(r)}},assign=(e,t)=>{const{left:r,tag:a}=({right:t}=KEY_VALUE_PAIR_exec_groups(t)),n=parseKeys(r),s=n[n.length-1];--n.length;const i=prepareInlineTable(e,n);if(s in i&&throws(Error$1("Duplicate property definition"+where(" at "))),a)switch(collect(a,null,i,s),t&&t[0]){case",":case"}":case"":case"#":return i[s]=void 0,t}switch(t&&t[0]){case"'":return assignLiteralString(i,s,t);case'"':return assignBasicString(i,s,t);case"{":return inlineTable||throws(SyntaxError$1("Inline Table is not allowed before TOML v0.4"+where(", which at "))),stacks_push((e=>equalInlineTable(i,s,e))),t;case"[":return stacks_push((e=>equalStaticArray(i,s,e))),t}const{1:l}=({2:t}=VALUE_REST_exec(t)??throws(SyntaxError$1("Bad atom value"+where(" at "))));if(sFloat){if("inf"===l||"+inf"===l)return i[s]=1/0,t;if("-inf"===l)return i[s]=-1/0,t;if("nan"===l||"+nan"===l||"-nan"===l)return i[s]=0/0,t}return l.includes(":")?(l.includes("-")?IS_OFFSET$(l)?i[s]=new OffsetDateTime(l):(moreDatetime||throws(SyntaxError$1("Local Date-Time is not allowed before TOML v0.5"+where(", which at "))),i[s]=new LocalDateTime(l)):(moreDatetime||throws(SyntaxError$1("Local Time is not allowed before TOML v0.5"+where(", which at "))),i[s]=new LocalTime(l)),t):l.indexOf("-")!==l.lastIndexOf("-")&&"-"!==l[0]?(moreDatetime||throws(SyntaxError$1("Local Date is not allowed before TOML v0.5"+where(", which at "))),i[s]=new LocalDate(l),t):(i[s]="true"===l||"false"!==l&&(l.includes(".")||(l.includes("e")||l.includes("E"))&&!l.startsWith("0x")?Float(l):enableNull&&"null"===l?null:Integer(l)),t)},Root=()=>{const e=new Table;let t=e;for(;lineIndex!==lastLineIndex;){const r=sourceLines[++lineIndex].replace(PRE_WHITESPACE,"");if(r)if("["===r[0]){const{$_asArrayItem$$:a,keys:n,$$asArrayItem$_:s,tag:i}=TABLE_DEFINITION_exec_groups(r);a===s||throws(SyntaxError$1("Square brackets of Table definition statement not match"+where(" at "))),t=appendTable(e,n,a,i)}else if("#"===r[0])__CONTROL_CHARACTER_EXCLUDE_test(r)&&throws(SyntaxError$1("Control characters other than Tab are not permitted in comments"+where(", which was found at ")));else{let e=assign(t,r);for(;stacks_length;)e=stacks_pop()(e);e&&"#"!==e[0]&&throws(SyntaxError$1("Unexpect charachtor after key/value pair"+where(" at ")))}}return e},IS_NON_SCALAR=(()=>theRegExp(NON_SCALAR).test)(),BOM="\ufeff",buf2str=e=>{const t=e.toString();if(!from(t).equals(e))throw Error$1("A TOML doc must be a (ful-scalar) valid UTF-8 file, without any unknown code point.");return"\ufeff"===t[0]?t.slice(1):t},parse=(e,t,r,a,n)=>{let s;if(could(),isBuffer(e))e=buf2str(e),s="";else if("object"==typeof e&&e){if(s=e.path,"string"!=typeof s)throw TypeError$1("TOML.parse(source.path)");const{data:t}=e;if(void 0===t)e=buf2str(globalThis$1.require("fs").readFileSync(s));else if(isBuffer(t))e=buf2str(t);else{if("string"!=typeof t)throw TypeError$1("TOML.parse(source.data)");e=t}}else{if("string"!=typeof e)throw TypeError$1("TOML.parse(source)");s=""}try{if(IS_NON_SCALAR(e))throw Error$1("A TOML doc must be a (ful-scalar) valid UTF-8 file, without any uncoupled UCS-4 character code.");try{use(t,r,a,n),todo(e,s);try{const e=Root();return process(),e}finally{done()}}finally{processor=null,collection.length=collection_length=0,zeroDatetime=!1}}finally{clearRegExp()}},parse$1=assign$1(((e,t,r,a,n)=>"number"==typeof t?parse(e,t,r,a,n):parse(e,1,t,r,a)),{"1.0":(e,t,r,a)=>parse(e,.1,t,r,a),1:(e,t,r,a)=>parse(e,1,t,r,a),.5:(e,t,r,a)=>parse(e,.5,t,r,a),.4:(e,t,r,a)=>parse(e,.4,t,r,a),.3:(e,t,r,a)=>parse(e,.3,t,r,a),.2:(e,t,r,a)=>parse(e,.2,t,r,a),.1:(e,t,r,a)=>parse(e,.1,t,r,a)}),_export=Default({version,parse:parse$1});export default _export;export{parse$1 as parse,version};
//# sourceMappingURL=j-toml.min.js.map